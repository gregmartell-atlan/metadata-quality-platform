import{c as ye,r as u,j as e,i as ra,U as ia,t as $a,a4 as he,a8 as Fa,ac as la,ai as oa,O as Ka,aj as Wa,a5 as Va,F as Ua,ak as Ga,A as Qa,G as Ha,T as Za,u as ca,h as Xa,B as Ya,a6 as Fe,$ as Ja,C as et}from"./index-BYXjn4hA.js";import{A as at}from"./AppHeader-bBOFCWJR.js";import{s as H,f as Z,C as je,u as De,d as Me,e as ze,I as F,h as tt,g as st,T as Y,i as ie}from"./graphicalItemSelectors-DS-hZTe9.js";import{ar as nt,aa as $,C as ke,af as G,O as rt,r as oe,as as da,at as it,au as lt,D as ee,X as ce,av as ot,u as R,aw as ct,ax as dt,ay as Ke,az as ua,aA as ut,ad as mt,Z as ae,L as _,c as qe,aB as pt,aC as ht,aD as We,ab as Be,aE as vt,n as Ve,z as Pe,a as L,s as xt,aF as ft,G as te,K as gt,H as V,I as U,U as ma,V as Re,aG as pa,aH as yt,aI as jt,N as Ue,aJ as bt,aK as Ge,$ as Nt,W as ha,R as va,Y as xa,_ as fa,b as be,j as ga,a2 as ya,a0 as wt,h as ja,aL as ba,g as J,a6 as Na,aM as At,aN as It,aO as Qe,q as _e,E as wa,y as Le,k as Aa,J as Ia,m as q,A as Sa,ac as ka,f as $e,t as St,o as He,aP as kt,aQ as Pt,aR as Ct,aS as W,a8 as Ze,aT as Et,w as Tt,x as Ot,aU as Dt,F as Mt,aV as zt,aW as qt,aX as Bt,ak as Pa,ai as Ca,al as Ne,aq as we,am as Ea,an as Ta,ap as Rt,ao as _t}from"./PolarChart-Cj5jwBuJ.js";import{R as Lt,P as $t,a as Ft,b as Kt,c as Wt}from"./RadarChart-BCITqJZZ.js";import{T as ve}from"./triangle-alert-3Hm35Ind.js";import{C as Xe}from"./chevron-up-Gnmli0Ka.js";import{F as Oa}from"./funnel-DPZwMpz0.js";import{D as Vt}from"./download-DQhb5Itz.js";import"./list-k-ASkxhI.js";import"./value-NzwA106W.js";const Ut=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Gt=ye("archive",Ut);const Qt=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ht=ye("lightbulb",Qt);const Zt=[["path",{d:"M5 12h14",key:"1ays0h"}]],Xt=ye("minus",Zt);const Yt=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Jt=ye("trending-down",Yt);var Ye=(a,t,s)=>{var n=s??a;if(!$(n))return ke(n,t,0)},es=(a,t,s)=>{var n={},i=a.filter(nt),r=a.filter(m=>m.stackId==null),o=i.reduce((m,f)=>(m[f.stackId]||(m[f.stackId]=[]),m[f.stackId].push(f),m),n),l=Object.entries(o).map(m=>{var[f,g]=m,v=g.map(p=>p.dataKey),y=Ye(t,s,g[0].barSize);return{stackId:f,dataKeys:v,barSize:y}}),c=r.map(m=>{var f=[m.dataKey].filter(v=>v!=null),g=Ye(t,s,m.barSize);return{stackId:void 0,dataKeys:f,barSize:g}});return[...l,...c]};function Je(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),s.push.apply(s,n)}return s}function pe(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Je(Object(s),!0).forEach(function(n){as(a,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):Je(Object(s)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(s,n))})}return a}function as(a,t,s){return(t=ts(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function ts(a){var t=ss(a,"string");return typeof t=="symbol"?t:t+""}function ss(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var n=s.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function ns(a,t,s,n,i){var r=n.length;if(!(r<1)){var o=ke(a,s,0,!0),l,c=[];if(G(n[0].barSize)){var m=!1,f=s/r,g=n.reduce((x,j)=>x+(j.barSize||0),0);g+=(r-1)*o,g>=s&&(g-=(r-1)*o,o=0),g>=s&&f>0&&(m=!0,f*=.9,g=r*f);var v=(s-g)/2>>0,y={offset:v-o,size:0};l=n.reduce((x,j)=>{var w,d={stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:y.offset+y.size+o,size:m?f:(w=j.barSize)!==null&&w!==void 0?w:0}},b=[...x,d];return y=b[b.length-1].position,b},c)}else{var p=ke(t,s,0,!0);s-2*p-(r-1)*o<=0&&(o=0);var h=(s-2*p-(r-1)*o)/r;h>1&&(h>>=0);var N=G(i)?Math.min(h,i):h;l=n.reduce((x,j,w)=>[...x,{stackId:j.stackId,dataKeys:j.dataKeys,position:{offset:p+(h+o)*w+(h-N)/2,size:N}}],c)}return l}}var rs=(a,t,s,n,i,r,o)=>{var l=$(o)?t:o,c=ns(s,n,i!==r?i:r,a,l);return i!==r&&c!=null&&(c=c.map(m=>pe(pe({},m),{},{position:pe(pe({},m.position),{},{offset:m.position.offset-i/2})}))),c},is=(a,t)=>{var s=rt(t);if(!(!a||s==null||t==null)){var{stackId:n}=t;if(n!=null){var i=a[n];if(i){var{stackedData:r}=i;if(r)return r.find(o=>o.key===s)}}}};function ls(a,t){return a&&typeof a=="object"&&"zIndex"in a&&typeof a.zIndex=="number"&&G(a.zIndex)?a.zIndex:t}function ea(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),s.push.apply(s,n)}return s}function aa(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ea(Object(s),!0).forEach(function(n){os(a,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):ea(Object(s)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(s,n))})}return a}function os(a,t,s){return(t=cs(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function cs(a){var t=ds(a,"string");return typeof t=="symbol"?t:t+""}function ds(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var n=s.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function xe(){return xe=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},xe.apply(null,arguments)}var us=(a,t)=>{var s;if(u.isValidElement(a))s=u.cloneElement(a,t);else if(typeof a=="function")s=a(t);else{if(!G(t.x1)||!G(t.y1)||!G(t.x2)||!G(t.y2))return null;s=u.createElement("line",xe({},t,{className:"recharts-reference-line-line"}))}return s},ms=(a,t,s,n,i,r)=>{var{x:o,width:l}=r,c=i.y.apply(a,{position:s});if(Be(c)||t==="discard"&&!i.y.isInRange(c))return null;var m=[{x:o+l,y:c},{x:o,y:c}];return n==="left"?m.reverse():m},ps=(a,t,s,n,i,r)=>{var{y:o,height:l}=r,c=i.x.apply(a,{position:s});if(Be(c)||t==="discard"&&!i.x.isInRange(c))return null;var m=[{x:c,y:o+l},{x:c,y:o}];return n==="top"?m.reverse():m},hs=(a,t,s,n)=>{var i=a.map(r=>n.apply(r,{position:s}));return t==="discard"&&i.some(r=>!n.isInRange(r))?null:i},vs=(a,t,s,n,i,r)=>{var{x:o,y:l,segment:c,ifOverflow:m}=r,f=We(o),g=We(l);return g?ms(l,m,s,i,a,t):f?ps(o,m,s,n,a,t):c!=null&&c.length===2?hs(c,m,s,a):null};function xs(a){var t=da();return u.useEffect(()=>(t(it(a)),()=>{t(lt(a))})),null}function fs(a){var{xAxisId:t,yAxisId:s,shape:n,className:i,ifOverflow:r}=a,o=ce(),l=ot(),c=R(A=>ct(A,t)),m=R(A=>dt(A,s)),f=R(A=>Ke(A,"xAxis",t,o)),g=R(A=>Ke(A,"yAxis",s,o)),v=ua();if(!l||!v||c==null||m==null||f==null||g==null)return null;var y=ut({x:f,y:g}),p=vs(y,v,a.position,c.orientation,m.orientation,a);if(!p)return null;var[{x:h,y:N},{x,y:j}]=p,w=r==="hidden"?"url(#".concat(l,")"):void 0,d=aa(aa({clipPath:w},mt(a)),{},{x1:h,y1:N,x2:x,y2:j}),b=vt({x1:h,y1:N,x2:x,y2:j});return u.createElement(ae,{zIndex:a.zIndex},u.createElement(_,{className:qe("recharts-reference-line",i)},us(n,d),u.createElement(pt,xe({},b,{lowerWidth:b.width,upperWidth:b.width}),u.createElement(ht,{label:a.label}),a.children)))}var gs={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:ee.line};function Ce(a){var t=oe(a,gs);return u.createElement(u.Fragment,null,u.createElement(xs,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),u.createElement(fs,t))}Ce.displayName="ReferenceLine";var ys="Invariant failed";function js(a,t){throw new Error(ys)}function Ee(){return Ee=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},Ee.apply(null,arguments)}function fe(a){return u.createElement(Pe,Ee({shapeType:"rectangle",activeClassName:"recharts-active-bar"},a))}var bs=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Ve(t))return t;var r=Ve(n)||$(n);return r?t(n,i):(r||js(),s)}},Ns=(a,t,s)=>s,ws=(a,t)=>t,de=L([Re,ws],(a,t)=>a.filter(s=>s.type==="bar").find(s=>s.id===t)),As=L([de],a=>a?.maxBarSize),Is=(a,t,s,n)=>n,Ss=L([te,Re,H,Z,Ns],(a,t,s,n,i)=>t.filter(r=>a==="horizontal"?r.xAxisId===s:r.yAxisId===n).filter(r=>r.isPanorama===i).filter(r=>r.hide===!1).filter(r=>r.type==="bar")),ks=(a,t,s)=>{var n=te(a),i=H(a,t),r=Z(a,t);if(!(i==null||r==null))return n==="horizontal"?Ue(a,"yAxis",r,s):Ue(a,"xAxis",i,s)},Ps=(a,t)=>{var s=te(a),n=H(a,t),i=Z(a,t);if(!(n==null||i==null))return s==="horizontal"?Ge(a,"xAxis",n):Ge(a,"yAxis",i)},Cs=L([Ss,bt,Ps],es),Es=(a,t,s)=>{var n,i,r=de(a,t);if(r!=null){var o=H(a,t),l=Z(a,t);if(!(o==null||l==null)){var c=te(a),m=pa(a),{maxBarSize:f}=r,g=$(f)?m:f,v,y;return c==="horizontal"?(v=V(a,"xAxis",o,s),y=U(a,"xAxis",o,s)):(v=V(a,"yAxis",l,s),y=U(a,"yAxis",l,s)),(n=(i=ma(v,y,!0))!==null&&i!==void 0?i:g)!==null&&n!==void 0?n:0}}},Da=(a,t,s)=>{var n=te(a),i=H(a,t),r=Z(a,t);if(!(i==null||r==null)){var o,l;return n==="horizontal"?(o=V(a,"xAxis",i,s),l=U(a,"xAxis",i,s)):(o=V(a,"yAxis",r,s),l=U(a,"yAxis",r,s)),ma(o,l)}},Ts=L([Cs,pa,yt,jt,Es,Da,As],rs),Os=(a,t,s)=>{var n=H(a,t);if(n!=null)return V(a,"xAxis",n,s)},Ds=(a,t,s)=>{var n=Z(a,t);if(n!=null)return V(a,"yAxis",n,s)},Ms=(a,t,s)=>{var n=H(a,t);if(n!=null)return U(a,"xAxis",n,s)},zs=(a,t,s)=>{var n=Z(a,t);if(n!=null)return U(a,"yAxis",n,s)},qs=L([Ts,de],(a,t)=>{if(!(a==null||t==null)){var s=a.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(s!=null)return s.position}}),Bs=L([ks,de],is),Rs=L([xt,ft,Os,Ds,Ms,zs,qs,te,gt,Da,Bs,de,Is],(a,t,s,n,i,r,o,l,c,m,f,g,v)=>{var{chartData:y,dataStartIndex:p,dataEndIndex:h}=c;if(!(g==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||s==null||n==null||i==null||r==null||m==null)){var{data:N}=g,x;if(N!=null&&N.length>0?x=N:x=y?.slice(p,h+1),x!=null)return hn({layout:l,barSettings:g,pos:o,parentViewBox:t,bandSize:m,xAxis:s,yAxis:n,xAxisTicks:i,yAxisTicks:r,stackedData:f,displayedData:x,offset:a,cells:v,dataStartIndex:p})}}),_s=["index"];function Te(){return Te=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},Te.apply(null,arguments)}function Ls(a,t){if(a==null)return{};var s,n,i=$s(a,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function $s(a,t){if(a==null)return{};var s={};for(var n in a)if({}.hasOwnProperty.call(a,n)){if(t.indexOf(n)!==-1)continue;s[n]=a[n]}return s}var Ma=u.createContext(void 0),Fs=a=>{var t=u.useContext(Ma);if(t!=null)return t.stackId;if(a!=null)return Nt(a)},Ks=(a,t)=>"recharts-bar-stack-clip-path-".concat(a,"-").concat(t),Ws=a=>{var t=u.useContext(Ma);if(t!=null){var{stackId:s}=t;return"url(#".concat(Ks(s,a),")")}},Vs=a=>{var{index:t}=a,s=Ls(a,_s),n=Ws(t);return u.createElement(_,Te({className:"recharts-bar-stack-layer",clipPath:n},s))},Us=["onMouseEnter","onMouseLeave","onClick"],Gs=["value","background","tooltipPosition"],Qs=["id"],Hs=["onMouseEnter","onClick","onMouseLeave"];function K(){return K=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},K.apply(null,arguments)}function ta(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),s.push.apply(s,n)}return s}function T(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ta(Object(s),!0).forEach(function(n){Zs(a,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):ta(Object(s)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(s,n))})}return a}function Zs(a,t,s){return(t=Xs(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function Xs(a){var t=Ys(a,"string");return typeof t=="symbol"?t:t+""}function Ys(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var n=s.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function ge(a,t){if(a==null)return{};var s,n,i=Js(a,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function Js(a,t){if(a==null)return{};var s={};for(var n in a)if({}.hasOwnProperty.call(a,n)){if(t.indexOf(n)!==-1)continue;s[n]=a[n]}return s}var en=a=>{var{dataKey:t,name:s,fill:n,legendType:i,hide:r}=a;return[{inactive:r,dataKey:t,type:i,color:n,value:be(s,t),payload:a}]},an=u.memo(a=>{var{dataKey:t,stroke:s,strokeWidth:n,fill:i,name:r,hide:o,unit:l,tooltipType:c,id:m}=a,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:be(r,t),hide:o,type:c,color:i,unit:l,graphicalItemId:m}};return u.createElement(ga,{tooltipEntrySettings:f})});function tn(a){var t=R(_e),{data:s,dataKey:n,background:i,allOtherBarProps:r}=a,{onMouseEnter:o,onMouseLeave:l,onClick:c}=r,m=ge(r,Us),f=De(o,n,r.id),g=Me(l),v=ze(c,n,r.id);if(!i||s==null)return null;var y=wa(i);return u.createElement(ae,{zIndex:ls(i,ee.barBackground)},s.map((p,h)=>{var{value:N,background:x,tooltipPosition:j}=p,w=ge(p,Gs);if(!x)return null;var d=f(p,h),b=g(p,h),A=v(p,h),I=T(T(T(T(T({option:i,isActive:String(h)===t},w),{},{fill:"#eee"},x),y),Le(m,p,h)),{},{onMouseEnter:d,onMouseLeave:b,onClick:A,dataKey:n,index:h,className:"recharts-bar-background-rectangle"});return u.createElement(fe,K({key:"background-bar-".concat(h)},I))}))}function sn(a){var{showLabels:t,children:s,rects:n}=a,i=n?.map(r=>{var o={x:r.x,y:r.y,width:r.width,lowerWidth:r.width,upperWidth:r.width,height:r.height};return T(T({},o),{},{value:r.value,payload:r.payload,parentViewBox:r.parentViewBox,viewBox:o,fill:r.fill})});return u.createElement(ka,{value:t?i:void 0},s)}function nn(a){var{shape:t,activeBar:s,baseProps:n,entry:i,index:r,dataKey:o}=a,l=R(_e),c=R(St),m=s&&String(r)===l&&(c==null||o===c),f=m?s:t;return m?u.createElement(ae,{zIndex:ee.activeBar},u.createElement(fe,K({},n,{name:String(n.name)},i,{isActive:m,option:f,index:r,dataKey:o}))):u.createElement(fe,K({},n,{name:String(n.name)},i,{isActive:m,option:f,index:r,dataKey:o}))}function rn(a){var{shape:t,baseProps:s,entry:n,index:i,dataKey:r}=a;return u.createElement(fe,K({},s,{name:String(s.name)},n,{isActive:!1,option:t,index:i,dataKey:r}))}function ln(a){var t,{data:s,props:n}=a,i=(t=$e(n))!==null&&t!==void 0?t:{},{id:r}=i,o=ge(i,Qs),{shape:l,dataKey:c,activeBar:m}=n,{onMouseEnter:f,onClick:g,onMouseLeave:v}=n,y=ge(n,Hs),p=De(f,c,r),h=Me(v),N=ze(g,c,r);return s?u.createElement(u.Fragment,null,s.map((x,j)=>u.createElement(Vs,K({index:j,key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(j),className:"recharts-bar-rectangle"},Le(y,x,j),{onMouseEnter:p(x,j),onMouseLeave:h(x,j),onClick:N(x,j)}),m?u.createElement(nn,{shape:l,activeBar:m,baseProps:o,entry:x,index:j,dataKey:c}):u.createElement(rn,{shape:l,baseProps:o,entry:x,index:j,dataKey:c})))):null}function on(a){var{props:t,previousRectanglesRef:s}=a,{data:n,layout:i,isAnimationActive:r,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:m,onAnimationStart:f}=t,g=s.current,v=Aa(t,"recharts-bar-"),[y,p]=u.useState(!1),h=!y,N=u.useCallback(()=>{typeof m=="function"&&m(),p(!1)},[m]),x=u.useCallback(()=>{typeof f=="function"&&f(),p(!0)},[f]);return u.createElement(sn,{showLabels:h,rects:n},u.createElement(Ia,{animationId:v,begin:o,duration:l,isActive:r,easing:c,onAnimationEnd:N,onAnimationStart:x,key:v},j=>{var w=j===1?n:n?.map((d,b)=>{var A=g&&g[b];if(A)return T(T({},d),{},{x:q(A.x,d.x,j),y:q(A.y,d.y,j),width:q(A.width,d.width,j),height:q(A.height,d.height,j)});if(i==="horizontal"){var I=q(0,d.height,j),C=q(d.stackedBarStart,d.y,j);return T(T({},d),{},{y:C,height:I})}var P=q(0,d.width,j),S=q(d.stackedBarStart,d.x,j);return T(T({},d),{},{width:P,x:S})});return j>0&&(s.current=w??null),w==null?null:u.createElement(_,null,u.createElement(ln,{props:t,data:w}))}),u.createElement(Sa,{label:t.label}),t.children)}function cn(a){var t=u.useRef(null);return u.createElement(on,{previousRectanglesRef:t,props:a})}var za=0,dn=(a,t)=>{var s=Array.isArray(a.value)?a.value[1]:a.value;return{x:a.x,y:a.y,value:s,errorVal:J(a,t)}};class un extends u.PureComponent{render(){var{hide:t,data:s,dataKey:n,className:i,xAxisId:r,yAxisId:o,needClip:l,background:c,id:m}=this.props;if(t||s==null)return null;var f=qe("recharts-bar",i),g=m;return u.createElement(_,{className:f,id:m},l&&u.createElement("defs",null,u.createElement(Na,{clipPathId:g,xAxisId:r,yAxisId:o})),u.createElement(_,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(g,")"):void 0},u.createElement(tn,{data:s,dataKey:n,background:c,allOtherBarProps:this.props}),u.createElement(cn,this.props)))}}var mn={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:za,xAxisId:0,yAxisId:0,zIndex:ee.bar};function pn(a){var{xAxisId:t,yAxisId:s,hide:n,legendType:i,minPointSize:r,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:m,isAnimationActive:f}=a,{needClip:g}=ya(t,s),v=wt(),y=ce(),p=ja(a.children,je),h=R(j=>Rs(j,a.id,y,p));if(v!=="vertical"&&v!=="horizontal")return null;var N,x=h?.[0];return x==null||x.height==null||x.width==null?N=0:N=v==="vertical"?x.height/2:x.width/2,u.createElement(ba,{xAxisId:t,yAxisId:s,data:h,dataPointFormatter:dn,errorBarOffset:N},u.createElement(un,K({},a,{layout:v,needClip:g,data:h,xAxisId:t,yAxisId:s,hide:n,legendType:i,minPointSize:r,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:m,isAnimationActive:f})))}function hn(a){var{layout:t,barSettings:{dataKey:s,minPointSize:n},pos:i,bandSize:r,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:m,stackedData:f,displayedData:g,offset:v,cells:y,parentViewBox:p,dataStartIndex:h}=a,N=t==="horizontal"?l:o,x=f?N.scale.domain():null,j=At({numericAxis:N}),w=N.scale(j);return g.map((d,b)=>{var A,I,C,P,S,M;if(f){var O=f[b+h];if(O==null)return null;A=It(O,x)}else A=J(d,s),Array.isArray(A)||(A=[j,A]);var B=bs(n,za)(A[1],b);if(t==="horizontal"){var se,[ne,E]=[l.scale(A[0]),l.scale(A[1])];I=Qe({axis:o,ticks:c,bandSize:r,offset:i.offset,entry:d,index:b}),C=(se=E??ne)!==null&&se!==void 0?se:void 0,P=i.size;var k=ne-E;if(S=Be(k)?0:k,M={x:I,y:v.top,width:P,height:v.height},Math.abs(B)>0&&Math.abs(S)<Math.abs(B)){var ue=He(S||B)*(Math.abs(B)-Math.abs(S));C-=ue,S+=ue}}else{var[me,Ae]=[o.scale(A[0]),o.scale(A[1])];if(I=me,C=Qe({axis:l,ticks:m,bandSize:r,offset:i.offset,entry:d,index:b}),P=Ae-me,S=i.size,M={x:v.left,y:C,width:v.width,height:S},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var Ie=He(P||B)*(Math.abs(B)-Math.abs(P));P+=Ie}}if(I==null||C==null||P==null||S==null)return null;var Se=T(T({},d),{},{stackedBarStart:w,x:I,y:C,width:P,height:S,value:f?A:A[1],payload:d,background:M,tooltipPosition:{x:I+P/2,y:C+S/2},parentViewBox:p},y&&y[b]&&y[b].props);return Se}).filter(Boolean)}function vn(a){var t=oe(a,mn),s=Fs(t.stackId),n=ce();return u.createElement(va,{id:t.id,type:"bar"},i=>u.createElement(u.Fragment,null,u.createElement(xa,{legendPayload:en(t)}),u.createElement(an,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),u.createElement(fa,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:s,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),u.createElement(ae,{zIndex:t.zIndex},u.createElement(pn,K({},t,{id:i})))))}var qa=u.memo(vn,ha);qa.displayName="Bar";var xn=["option","isActive"];function le(){return le=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},le.apply(null,arguments)}function fn(a,t){if(a==null)return{};var s,n,i=gn(a,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function gn(a,t){if(a==null)return{};var s={};for(var n in a)if({}.hasOwnProperty.call(a,n)){if(t.indexOf(n)!==-1)continue;s[n]=a[n]}return s}function yn(a){var{option:t,isActive:s}=a,n=fn(a,xn);return typeof t=="string"?u.createElement(Pe,le({option:u.createElement(kt,le({type:t},n)),isActive:s,shapeType:"symbols"},n)):u.createElement(Pe,le({option:t,isActive:s,shapeType:"symbols"},n))}var jn=(a,t,s,n,i,r,o)=>V(a,"xAxis",t,o),bn=(a,t,s,n,i,r,o)=>U(a,"xAxis",t,o),Nn=(a,t,s,n,i,r,o)=>V(a,"yAxis",s,o),wn=(a,t,s,n,i,r,o)=>U(a,"yAxis",s,o),An=(a,t,s,n)=>Ct(a,"zAxis",n,!1),In=(a,t,s,n,i)=>i,Sn=(a,t,s,n,i,r)=>r,kn=(a,t,s,n,i,r,o)=>Pt(a,void 0,void 0,o),Pn=L([Re,In],(a,t)=>a.filter(s=>s.type==="scatter").find(s=>s.id===t)),Cn=L([kn,jn,bn,Nn,wn,An,Pn,Sn],(a,t,s,n,i,r,o,l)=>{var{chartData:c,dataStartIndex:m,dataEndIndex:f}=a;if(o!=null){var g;if(o?.data!=null&&o.data.length>0?g=o.data:g=c?.slice(m,f+1),!(g==null||t==null||n==null||s==null||i==null||s?.length===0||i?.length===0))return Kn({displayedData:g,xAxis:t,yAxis:n,zAxis:r,scatterSettings:o,xAxisTicks:s,yAxisTicks:i,cells:l})}}),En=["id"],Tn=["onMouseEnter","onClick","onMouseLeave"],On=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Oe(a,t){if(a==null)return{};var s,n,i=Dn(a,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);for(n=0;n<r.length;n++)s=r[n],t.indexOf(s)===-1&&{}.propertyIsEnumerable.call(a,s)&&(i[s]=a[s])}return i}function Dn(a,t){if(a==null)return{};var s={};for(var n in a)if({}.hasOwnProperty.call(a,n)){if(t.indexOf(n)!==-1)continue;s[n]=a[n]}return s}function Q(){return Q=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)({}).hasOwnProperty.call(s,n)&&(a[n]=s[n])}return a},Q.apply(null,arguments)}function sa(a,t){var s=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(a,i).enumerable})),s.push.apply(s,n)}return s}function D(a){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?sa(Object(s),!0).forEach(function(n){Mn(a,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(s)):sa(Object(s)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(s,n))})}return a}function Mn(a,t,s){return(t=zn(t))in a?Object.defineProperty(a,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[t]=s,a}function zn(a){var t=qn(a,"string");return typeof t=="symbol"?t:t+""}function qn(a,t){if(typeof a!="object"||!a)return a;var s=a[Symbol.toPrimitive];if(s!==void 0){var n=s.call(a,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}var Bn=a=>{var{dataKey:t,name:s,fill:n,legendType:i,hide:r}=a;return[{inactive:r,dataKey:t,type:i,color:n,value:be(s,t),payload:a}]},Rn=u.memo(a=>{var{dataKey:t,points:s,stroke:n,strokeWidth:i,fill:r,name:o,hide:l,tooltipType:c,id:m}=a,f={dataDefinedOnItem:s?.map(g=>g.tooltipPayload),positions:s?.map(g=>g.tooltipPosition),settings:{stroke:n,strokeWidth:i,fill:r,nameKey:void 0,dataKey:t,name:be(o,t),hide:l,type:c,color:r,unit:"",graphicalItemId:m}};return u.createElement(ga,{tooltipEntrySettings:f})});function _n(a){var{points:t,props:s}=a,{line:n,lineType:i,lineJointType:r}=s;if(!n)return null;var o=$e(s),l=wa(n),c,m;if(i==="joint")c=t.map(N=>{var x,j;return{x:(x=N.cx)!==null&&x!==void 0?x:null,y:(j=N.cy)!==null&&j!==void 0?j:null}});else if(i==="fitting"){var{xmin:f,xmax:g,a:v,b:y}=Dt(t),p=N=>v*N+y;c=[{x:f,y:p(f)},{x:g,y:p(g)}]}var h=D(D(D({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:c});return u.isValidElement(n)?m=u.cloneElement(n,h):typeof n=="function"?m=n(h):m=u.createElement(Mt,Q({},h,{type:r})),u.createElement(_,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function Ln(a){var{showLabels:t,points:s,children:n}=a,i=ua(),r=u.useMemo(()=>s?.map(o=>{var l,c,m={x:(l=o.x)!==null&&l!==void 0?l:0,y:(c=o.y)!==null&&c!==void 0?c:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return D(D({},m),{},{value:void 0,payload:o.payload,viewBox:m,parentViewBox:i,fill:void 0})}),[i,s]);return u.createElement(ka,{value:t?r:void 0},n)}function $n(a){var{points:t,allOtherScatterProps:s}=a,{shape:n,activeShape:i,dataKey:r}=s,{id:o}=s,l=Oe(s,En),c=R(_e),{onMouseEnter:m,onClick:f,onMouseLeave:g}=s,v=Oe(s,Tn),y=De(m,r,o),p=Me(g),h=ze(f,r,o);if(!Et(t))return null;var N=$e(l);return u.createElement(u.Fragment,null,u.createElement(_n,{points:t,props:l}),t.map((x,j)=>{var w=i!=null&&i!==!1,d=w&&c===String(j),b=w&&d?i:n,A=D(D(D({},N),x),{},{[Ot]:j,[Tt]:String(o)});return u.createElement(ae,{key:"symbol-".concat(x?.cx,"-").concat(x?.cy,"-").concat(x?.size,"-").concat(j),zIndex:d?ee.activeDot:void 0},u.createElement(_,Q({className:"recharts-scatter-symbol"},Le(v,x,j),{onMouseEnter:y(x,j),onMouseLeave:p(x,j),onClick:h(x,j)}),u.createElement(yn,Q({option:b,isActive:d},A))))}))}function Fn(a){var{previousPointsRef:t,props:s}=a,{points:n,isAnimationActive:i,animationBegin:r,animationDuration:o,animationEasing:l}=s,c=t.current,m=Aa(s,"recharts-scatter-"),[f,g]=u.useState(!1),v=u.useCallback(()=>{g(!1)},[]),y=u.useCallback(()=>{g(!0)},[]),p=!f;return u.createElement(Ln,{showLabels:p,points:n},s.children,u.createElement(Ia,{animationId:m,begin:r,duration:o,isActive:i,easing:l,onAnimationEnd:v,onAnimationStart:y,key:m},h=>{var N=h===1?n:n?.map((x,j)=>{var w=c&&c[j];return w?D(D({},x),{},{cx:x.cx==null?void 0:q(w.cx,x.cx,h),cy:x.cy==null?void 0:q(w.cy,x.cy,h),size:q(w.size,x.size,h)}):D(D({},x),{},{size:q(0,x.size,h)})});return h>0&&(t.current=N),u.createElement(_,null,u.createElement($n,{points:N,allOtherScatterProps:s,showLabels:p}))}),u.createElement(Sa,{label:s.label}))}function Kn(a){var{displayedData:t,xAxis:s,yAxis:n,zAxis:i,scatterSettings:r,xAxisTicks:o,yAxisTicks:l,cells:c}=a,m=$(s.dataKey)?r.dataKey:s.dataKey,f=$(n.dataKey)?r.dataKey:n.dataKey,g=i&&i.dataKey,v=i?i.range:W.range,y=v&&v[0],p=s.scale.bandwidth?s.scale.bandwidth():0,h=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((N,x)=>{var j=J(N,m),w=J(N,f),d=!$(g)&&J(N,g)||"-",b=[{name:$(s.dataKey)?r.name:s.name||String(s.dataKey),unit:s.unit||"",value:j,payload:N,dataKey:m,type:r.tooltipType},{name:$(n.dataKey)?r.name:n.name||String(n.dataKey),unit:n.unit||"",value:w,payload:N,dataKey:f,type:r.tooltipType}];d!=="-"&&b.push({name:i.name||i.dataKey,unit:i.unit||"",value:d,payload:N,dataKey:g,type:r.tooltipType});var A=Ze({axis:s,ticks:o,bandSize:p,entry:N,index:x,dataKey:m}),I=Ze({axis:n,ticks:l,bandSize:h,entry:N,index:x,dataKey:f}),C=d!=="-"?i.scale(d):y,P=Math.sqrt(Math.max(C,0)/Math.PI);return D(D({},N),{},{cx:A,cy:I,x:A==null?void 0:A-P,y:I==null?void 0:I-P,width:2*P,height:2*P,size:C,node:{x:j,y:w,z:d},tooltipPayload:b,tooltipPosition:{x:A,y:I},payload:N},c&&c[x]&&c[x].props)})}var Wn=(a,t,s)=>({x:a.cx,y:a.cy,value:Number(s==="x"?a.node.x:a.node.y),errorVal:J(a,t)});function Vn(a){var{hide:t,points:s,className:n,needClip:i,xAxisId:r,yAxisId:o,id:l}=a,c=u.useRef(null);if(t)return null;var m=qe("recharts-scatter",n),f=l;return u.createElement(ae,{zIndex:a.zIndex},u.createElement(_,{className:m,clipPath:i?"url(#clipPath-".concat(f,")"):void 0,id:l},i&&u.createElement("defs",null,u.createElement(Na,{clipPathId:f,xAxisId:r,yAxisId:o})),u.createElement(ba,{xAxisId:r,yAxisId:o,data:s,dataPointFormatter:Wn,errorBarOffset:0},u.createElement(_,{key:"recharts-scatter-symbols"},u.createElement(Fn,{props:a,previousPointsRef:c})))))}var Ba={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:ee.scatter};function Un(a){var t=oe(a,Ba),{animationBegin:s,animationDuration:n,animationEasing:i,hide:r,isAnimationActive:o,legendType:l,lineJointType:c,lineType:m,shape:f,xAxisId:g,yAxisId:v,zAxisId:y}=t,p=Oe(t,On),{needClip:h}=ya(g,v),N=u.useMemo(()=>ja(a.children,je),[a.children]),x=ce(),j=R(w=>Cn(w,g,v,y,a.id,N,x));return h==null||j==null?null:u.createElement(u.Fragment,null,u.createElement(Rn,{dataKey:a.dataKey,points:j,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,tooltipType:a.tooltipType,id:a.id}),u.createElement(Vn,Q({},p,{xAxisId:g,yAxisId:v,zAxisId:y,lineType:m,lineJointType:c,legendType:l,shape:f,hide:r,isAnimationActive:o,animationBegin:s,animationDuration:n,animationEasing:i,points:j,needClip:h})))}function Gn(a){var t=oe(a,Ba),s=ce();return u.createElement(va,{id:t.id,type:"scatter"},n=>u.createElement(u.Fragment,null,u.createElement(xa,{legendPayload:Bn(t)}),u.createElement(fa,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:s}),u.createElement(Un,Q({},t,{id:n}))))}var Ra=u.memo(Gn,ha);Ra.displayName="Scatter";function Qn(a){var t=da(),s=u.useRef(null);return u.useLayoutEffect(()=>{s.current===null?t(zt(a)):s.current!==a&&t(qt({prev:s.current,next:a})),s.current=a},[a,t]),u.useLayoutEffect(()=>()=>{s.current&&(t(Bt(s.current)),s.current=null)},[t]),null}var Hn={zAxisId:0,range:W.range,scale:W.scale,type:W.type};function _a(a){var t=oe(a,Hn);return u.createElement(Qn,{domain:t.domain,id:t.zAxisId,dataKey:t.dataKey,name:t.name,unit:t.unit,range:t.range,scale:t.scale,type:t.type,allowDuplicatedCategory:W.allowDuplicatedCategory,allowDataOverflow:W.allowDataOverflow,reversed:W.reversed,includeHidden:W.includeHidden})}_a.displayName="ZAxis";var Zn=["axis","item"],Xn=u.forwardRef((a,t)=>u.createElement(Pa,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zn,tooltipPayloadSearcher:Ca,categoricalChartProps:a,ref:t})),Yn=["item"],Jn=u.forwardRef((a,t)=>u.createElement(Pa,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Yn,tooltipPayloadSearcher:Ca,categoricalChartProps:a,ref:t}));function er({matrix:a}){const t=r=>{const o=a.assetTypeRequirements.length||1;let l=0;const c=[];a.assetTypeRequirements.forEach(g=>{const v=g.requirements.map(y=>y.field);switch(r){case"Discoverable":c.push({name:"Description",present:v.includes("description"),weight:.25}),c.push({name:"Owners",present:v.includes("ownerUsers")||v.includes("ownerGroups"),weight:.25}),c.push({name:"Tags",present:v.includes("tags"),weight:.25}),c.push({name:"Terms",present:v.includes("assignedTerms"),weight:.25}),v.includes("description")&&(l+=.25),(v.includes("ownerUsers")||v.includes("ownerGroups"))&&(l+=.25),v.includes("tags")&&(l+=.25),v.includes("assignedTerms")&&(l+=.25);break;case"Addressable":c.push({name:"Qualified Name",present:!0,weight:.5}),c.push({name:"Connection Info",present:!0,weight:.5}),l+=1;break;case"Trustworthy":c.push({name:"Lineage",present:v.includes("lineage"),weight:.5}),c.push({name:"Certification",present:v.includes("certificateStatus"),weight:.5}),v.includes("lineage")&&(l+=.5),v.includes("certificateStatus")&&(l+=.5);break;case"Self-describing":c.push({name:"README",present:v.includes("readme"),weight:.5}),c.push({name:"Column Metadata",present:v.includes("columns"),weight:.5}),v.includes("readme")&&(l+=.5),v.includes("columns")&&(l+=.5);break;case"Interoperable":c.push({name:"Standard Formats",present:!0,weight:.6}),c.push({name:"API Access",present:!1,weight:.4}),l+=.6;break;case"Secure":c.push({name:"Classifications",present:v.includes("classifications"),weight:1}),v.includes("classifications")&&(l+=1);break;case"Reusable":c.push({name:"Usage Stats",present:!0,weight:.5}),c.push({name:"Popularity",present:!1,weight:.5}),l+=.5;break}});const m=Math.min(100,Math.round(l/o*100)),f=c.filter((g,v,y)=>y.findIndex(p=>p.name===g.name)===v);return{score:m,maxScore:100,factors:f}},s={Discoverable:t("Discoverable"),Addressable:t("Addressable"),Trustworthy:t("Trustworthy"),"Self-describing":t("Self-describing"),Interoperable:t("Interoperable"),Secure:t("Secure"),Reusable:t("Reusable")},n=[{subject:"Discoverable",score:s.Discoverable.score,fullMark:100},{subject:"Addressable",score:s.Addressable.score,fullMark:100},{subject:"Trustworthy",score:s.Trustworthy.score,fullMark:100},{subject:"Self-describing",score:s["Self-describing"].score,fullMark:100},{subject:"Interoperable",score:s.Interoperable.score,fullMark:100},{subject:"Secure",score:s.Secure.score,fullMark:100},{subject:"Reusable",score:s.Reusable.score,fullMark:100}],i=r=>{const{active:o,payload:l}=r;if(o&&l&&l.length>0){const c=l[0].payload,m=c.subject,f=c.score,g=tt(m),v=st(f),y=s[m];return e.jsxs("div",{className:"daap-tooltip",children:[e.jsxs("div",{className:"daap-tooltip-header",children:[e.jsx("span",{className:"daap-tooltip-dimension",children:m}),e.jsx("span",{className:`daap-tooltip-band daap-band-${v.name.toLowerCase()}`,children:v.name})]}),e.jsxs("div",{className:"daap-tooltip-score",children:[e.jsxs("span",{className:"daap-tooltip-value",children:[f,"%"]}),e.jsx("span",{className:"daap-tooltip-max",children:"/ 100"})]}),g&&e.jsx("p",{className:"daap-tooltip-desc",children:g.description}),y&&y.factors.length>0&&e.jsxs("div",{className:"daap-tooltip-breakdown",children:[e.jsx("span",{className:"daap-tooltip-breakdown-label",children:"Calculation breakdown:"}),e.jsx("ul",{className:"daap-tooltip-factors",children:y.factors.map((p,h)=>e.jsxs("li",{className:p.present?"factor-present":"factor-missing",children:[e.jsx("span",{className:"factor-icon",children:p.present?"âœ“":"âœ—"}),e.jsx("span",{className:"factor-name",children:p.name}),e.jsxs("span",{className:"factor-weight",children:[Math.round(p.weight*100),"%"]})]},h))})]}),e.jsx("div",{className:"daap-tooltip-action",children:v.action})]})}return null};return e.jsxs("div",{className:"daap-radar-chart",children:[e.jsxs("div",{className:"daap-radar-header",children:[e.jsx("h3",{className:"daap-radar-title",children:"Data as a Product Score"}),e.jsx(F,{content:e.jsxs("div",{className:"daap-info-tooltip",children:[e.jsx("strong",{children:"Data as a Product (DaaP)"}),e.jsx("p",{children:"This radar chart shows compliance across the 7 dimensions of treating data as a product. Higher scores indicate better alignment with DaaP principles."}),e.jsxs("div",{className:"daap-info-dimensions",children:[e.jsx("span",{children:"The 7 dimensions are:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Discoverable"})," - Easy to find and search"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Addressable"})," - Uniquely identifiable"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Trustworthy"})," - Reliable with lineage"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Self-describing"})," - Well documented"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interoperable"})," - Standards-compliant"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Secure"})," - Properly classified"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reusable"})," - Ready for multiple consumers"]})]})]})]}),position:"bottom"})]}),e.jsx("div",{className:"daap-radar-container",children:e.jsx(Ne,{width:"100%",height:"100%",children:e.jsxs(Lt,{cx:"50%",cy:"50%",outerRadius:"80%",data:n,children:[e.jsx($t,{stroke:"var(--border-subtle)"}),e.jsx(Ft,{dataKey:"subject",tick:{fill:"var(--text-secondary)",fontSize:12}}),e.jsx(Kt,{angle:30,domain:[0,100],tick:{fill:"var(--text-muted)",fontSize:10}}),e.jsx(Wt,{name:"Current Plan",dataKey:"score",stroke:"var(--color-blue-500)",fill:"var(--color-blue-500)",fillOpacity:.3}),e.jsx(we,{content:i})]})})})]})}function ar({coverage:a}){const t=u.useMemo(()=>{const r=new Set;return a.forEach(o=>{Object.keys(o.byAssetType).forEach(l=>r.add(l))}),Array.from(r).sort()},[a]),s=a.map(r=>r.field),n=r=>r===0?"heatmap-cell-0":r<25?"heatmap-cell-25":r<50?"heatmap-cell-50":r<75?"heatmap-cell-75":r<100?"heatmap-cell-90":"heatmap-cell-100",i=r=>r===0?"Not started":r<25?"Critical gap":r<50?"Needs attention":r<75?"Good progress":r<100?"Almost complete":"Complete";return a.length===0?e.jsx("div",{className:"heatmap-empty",children:e.jsx("p",{children:"No coverage data available. Connect to Atlan to see insights."})}):e.jsxs("div",{className:"heatmap-container",children:[e.jsxs("div",{className:"heatmap-header-row",children:[e.jsx("h3",{className:"heatmap-title",children:"Metadata Coverage Heatmap"}),e.jsx(F,{content:e.jsxs("div",{children:[e.jsx("strong",{children:"How to read this heatmap:"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"Each cell shows the percentage of assets that have this metadata field populated. Darker green = better coverage. Red = gaps to address."})]})})]}),e.jsxs("div",{className:"heatmap-table-wrapper",children:[e.jsxs("div",{className:"heatmap-header",children:[e.jsx("div",{className:"heatmap-label-cell",children:"Asset Type"}),s.map(r=>{const o=ie(r),l=r.replace(/([A-Z])/g," $1").trim();return e.jsx(Y,{content:o?e.jsxs("div",{className:"heatmap-field-tooltip",children:[e.jsxs("div",{className:"heatmap-field-tooltip-header",children:[e.jsx("span",{children:o.name}),e.jsx("span",{className:`heatmap-field-tooltip-badge heatmap-field-tooltip-badge-${o.importance}`,children:o.importance})]}),e.jsx("p",{children:o.description}),e.jsxs("div",{className:"heatmap-field-tooltip-dimension",children:["DaaP Dimension: ",e.jsx("strong",{children:o.daapDimension})]})]}):l,position:"top",maxWidth:320,children:e.jsx("div",{className:"heatmap-field-header",children:l})},r)})]}),t.map(r=>e.jsxs("div",{className:"heatmap-row",children:[e.jsx("div",{className:"heatmap-type-cell",children:r}),s.map(o=>{const c=a.find(v=>v.field===o)?.byAssetType[r],m=c&&c.total>0?Math.round(c.populated/c.total*100):0,f=c&&c.total>0,g=ie(o);return e.jsx(Y,{content:e.jsxs("div",{className:"heatmap-cell-tooltip",children:[e.jsxs("div",{className:"heatmap-cell-tooltip-header",children:[e.jsx("span",{children:r}),e.jsx("span",{children:"â†’"}),e.jsx("span",{children:g?.name||o})]}),f?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"heatmap-cell-tooltip-stats",children:[e.jsxs("div",{className:"heatmap-cell-tooltip-stat",children:[e.jsxs("span",{className:"heatmap-cell-tooltip-value",children:[m,"%"]}),e.jsx("span",{className:"heatmap-cell-tooltip-label",children:"Coverage"})]}),e.jsxs("div",{className:"heatmap-cell-tooltip-stat",children:[e.jsx("span",{className:"heatmap-cell-tooltip-value",children:c?.populated}),e.jsx("span",{className:"heatmap-cell-tooltip-label",children:"Populated"})]}),e.jsxs("div",{className:"heatmap-cell-tooltip-stat",children:[e.jsx("span",{className:"heatmap-cell-tooltip-value",children:c?.total}),e.jsx("span",{className:"heatmap-cell-tooltip-label",children:"Total"})]})]}),e.jsxs("div",{className:"heatmap-cell-tooltip-status",children:["Status: ",e.jsx("strong",{children:i(m)})]}),m<50&&g&&e.jsxs("div",{className:"heatmap-cell-tooltip-action",children:["ðŸ’¡ Tip: ",g.importance==="required"?"This is a required field. Prioritize filling this gap.":"Consider enriching this metadata to improve discoverability."]})]}):e.jsxs("div",{className:"heatmap-cell-tooltip-empty",children:["No ",r," assets found for this field"]})]}),position:"top",maxWidth:280,children:e.jsx("div",{className:"heatmap-cell-wrapper",children:e.jsx("div",{className:`heatmap-cell ${f?n(m):"heatmap-cell-empty"}`,children:f?`${m}%`:"-"})})},`${r}-${o}`)})]},r))]}),e.jsxs("div",{className:"heatmap-legend",children:[e.jsx("span",{className:"heatmap-legend-label",children:"Coverage:"}),e.jsxs("div",{className:"heatmap-legend-item",children:[e.jsx("div",{className:"heatmap-legend-color heatmap-cell-0"}),e.jsx("span",{children:"0%"})]}),e.jsxs("div",{className:"heatmap-legend-item",children:[e.jsx("div",{className:"heatmap-legend-color heatmap-cell-25"}),e.jsx("span",{children:"<25%"})]}),e.jsxs("div",{className:"heatmap-legend-item",children:[e.jsx("div",{className:"heatmap-legend-color heatmap-cell-50"}),e.jsx("span",{children:"<50%"})]}),e.jsxs("div",{className:"heatmap-legend-item",children:[e.jsx("div",{className:"heatmap-legend-color heatmap-cell-75"}),e.jsx("span",{children:"<75%"})]}),e.jsxs("div",{className:"heatmap-legend-item",children:[e.jsx("div",{className:"heatmap-legend-color heatmap-cell-100"}),e.jsx("span",{children:"100%"})]})]})]})}const tr={excellent:"var(--color-green-500)",good:"var(--color-blue-500)",fair:"var(--color-yellow-500)",poor:"var(--color-orange-500)",critical:"var(--color-red-500)"};u.memo(function({assets:t,dimension:s="overall"}){const{rules:n,getScoreBand:i,getScoreLabel:r}=ra(),{thresholds:o}=n,l=u.useMemo(()=>({excellent:`${o.excellent}-100`,good:`${o.good}-${o.excellent-1}`,fair:`${o.fair}-${o.good-1}`,poor:`${o.poor}-${o.fair-1}`,critical:`0-${o.poor-1}`}),[o]),c=u.useMemo(()=>{const v={excellent:0,good:0,fair:0,poor:0,critical:0};t.forEach(p=>{const h=p.scores[s],N=i(h);v[N]++});const y=t.length||1;return["excellent","good","fair","poor","critical"].map(p=>({name:r(p==="excellent"?100:p==="good"?70:p==="fair"?50:p==="poor"?30:10),count:v[p],percentage:Math.round(v[p]/y*100),color:tr[p],range:l[p]}))},[t,s,i,r,l]),m=t.length,f=u.useMemo(()=>{if(m===0)return 0;const v=c[0].count+c[1].count;return Math.round(v/m*100)},[c,m]),g=v=>{const{active:y,payload:p}=v;if(y&&p&&p.length>0){const h=p[0].payload;return e.jsxs("div",{className:"quality-dist-tooltip",children:[e.jsx("div",{className:"quality-dist-tooltip-header",style:{color:h.color},children:h.name}),e.jsxs("div",{className:"quality-dist-tooltip-stats",children:[e.jsxs("span",{className:"quality-dist-tooltip-count",children:[h.count," assets"]}),e.jsxs("span",{className:"quality-dist-tooltip-pct",children:[h.percentage,"%"]})]}),e.jsxs("div",{className:"quality-dist-tooltip-range",children:["Score range: ",h.range]})]})}return null};return e.jsxs("div",{className:"quality-distribution",children:[e.jsxs("div",{className:"quality-dist-header",children:[e.jsx("h3",{className:"quality-dist-title",children:"Quality Distribution"}),e.jsx(F,{content:e.jsxs("div",{className:"quality-dist-info",children:[e.jsx("strong",{children:"Asset Quality Distribution"}),e.jsx("p",{children:"Shows how your assets are distributed across quality score bands. A healthy catalog should have most assets in the Excellent and Good categories."}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("span",{className:"band excellent",children:"Excellent"})," ",l.excellent,": Production ready"]}),e.jsxs("li",{children:[e.jsx("span",{className:"band good",children:"Good"})," ",l.good,": Minor improvements needed"]}),e.jsxs("li",{children:[e.jsx("span",{className:"band fair",children:"Fair"})," ",l.fair,": Moderate work required"]}),e.jsxs("li",{children:[e.jsx("span",{className:"band poor",children:"Poor"})," ",l.poor,": Significant gaps"]}),e.jsxs("li",{children:[e.jsx("span",{className:"band critical",children:"Critical"})," ",l.critical,": Urgent attention needed"]})]})]}),position:"bottom"})]}),e.jsxs("div",{className:"quality-dist-summary",children:[e.jsxs("div",{className:"quality-dist-health",children:[e.jsx("span",{className:"quality-dist-health-label",children:"Catalog Health"}),e.jsxs("span",{className:`quality-dist-health-value ${i(f)}`,children:[f,"%"]})]}),e.jsxs("div",{className:"quality-dist-total",children:[e.jsx("span",{className:"quality-dist-total-label",children:"Total Assets"}),e.jsx("span",{className:"quality-dist-total-value",children:m.toLocaleString()})]})]}),e.jsx("div",{className:"quality-dist-chart",children:e.jsx(Ne,{width:"100%",height:200,children:e.jsxs(Xn,{data:c,layout:"vertical",margin:{left:80,right:20},children:[e.jsx(Ea,{type:"number",domain:[0,"dataMax"],tick:{fill:"var(--text-muted)",fontSize:11}}),e.jsx(Ta,{type:"category",dataKey:"name",tick:{fill:"var(--text-secondary)",fontSize:12},width:70}),e.jsx(we,{content:g}),e.jsx(qa,{dataKey:"count",radius:[0,4,4,0],children:c.map((v,y)=>e.jsx(je,{fill:v.color},`cell-${y}`))})]})})}),e.jsx("div",{className:"quality-dist-legend",children:c.map(v=>e.jsxs("div",{className:"quality-dist-legend-item",children:[e.jsx("span",{className:"quality-dist-legend-dot",style:{background:v.color}}),e.jsx("span",{className:"quality-dist-legend-label",children:v.name}),e.jsx("span",{className:"quality-dist-legend-count",children:v.count})]},v.name))})]})});const na=["overall","completeness","accuracy","timeliness","consistency","coverage"],sr={overall:"Overall",completeness:"Complete",accuracy:"Accurate",timeliness:"Timely",consistency:"Consistent",coverage:"Coverage"};u.memo(function({assets:t,maxOwners:s=10}){const[n,i]=u.useState("assetCount"),[r,o]=u.useState("desc"),[l,c]=u.useState(!1),m=u.useMemo(()=>{const h=new Map;t.forEach(x=>{const j=x.metadata.owner||x.metadata.ownerGroup||"Unassigned";h.has(j)||h.set(j,[]),h.get(j).push(x)});const N=[];return h.forEach((x,j)=>{const w=x.length,d={overall:0,completeness:0,accuracy:0,timeliness:0,consistency:0,coverage:0};x.forEach(b=>{d.overall+=b.scores.overall,d.completeness+=b.scores.completeness,d.accuracy+=b.scores.accuracy,d.timeliness+=b.scores.timeliness,d.consistency+=b.scores.consistency,d.coverage+=b.scores.coverage}),N.push({owner:j,assetCount:w,overall:Math.round(d.overall/w),completeness:Math.round(d.completeness/w),accuracy:Math.round(d.accuracy/w),timeliness:Math.round(d.timeliness/w),consistency:Math.round(d.consistency/w),coverage:Math.round(d.coverage/w)})}),N.sort((x,j)=>{const w=x[n],d=j[n];return typeof w=="string"&&typeof d=="string"?r==="asc"?w.localeCompare(d):d.localeCompare(w):r==="asc"?w-d:d-w}),N},[t,n,r]),f=h=>{n===h?o(N=>N==="asc"?"desc":"asc"):(i(h),o("desc"))},g=l?m:m.slice(0,s),v=m.length>s,y=m.filter(h=>h.overall<40),p=h=>n!==h?null:r==="asc"?e.jsx(Xe,{size:12}):e.jsx(he,{size:12});return e.jsxs("div",{className:"owner-accountability",children:[e.jsxs("div",{className:"owner-acc-header",children:[e.jsx("h3",{className:"owner-acc-title",children:"Owner Accountability"}),e.jsx(F,{content:e.jsxs("div",{className:"owner-acc-info",children:[e.jsx("strong",{children:"Owner Quality Matrix"}),e.jsx("p",{children:"Shows average quality scores for each data owner across all dimensions. Click column headers to sort. Red cells indicate areas needing attention."})]}),position:"bottom"})]}),y.length>0&&e.jsxs("div",{className:"owner-acc-alert",children:[e.jsx(ve,{size:14}),e.jsxs("span",{children:[y.length," owner",y.length>1?"s":""," need",y.length===1?"s":""," urgent attention"]})]}),e.jsx("div",{className:"owner-acc-table-container",children:e.jsxs("table",{className:"owner-acc-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{className:"owner-col",onClick:()=>f("owner"),children:[e.jsx("span",{children:"Owner"}),p("owner")]}),e.jsxs("th",{className:"count-col",onClick:()=>f("assetCount"),children:[e.jsx("span",{children:"Assets"}),p("assetCount")]}),na.map(h=>e.jsxs("th",{className:"score-col",onClick:()=>f(h),children:[e.jsx("span",{children:sr[h]}),p(h)]},h))]})}),e.jsx("tbody",{children:g.map(h=>e.jsxs("tr",{children:[e.jsx("td",{className:"owner-col",children:e.jsxs("div",{className:"owner-cell",children:[e.jsx(ia,{size:14}),e.jsx("span",{className:"owner-name",title:h.owner,children:h.owner})]})}),e.jsx("td",{className:"count-col",children:h.assetCount}),na.map(N=>e.jsx("td",{className:`score-col ${$a(h[N])}`,children:h[N]},N))]},h.owner))})]})}),v&&e.jsx("button",{className:"owner-acc-expand",onClick:()=>c(!l),children:l?e.jsxs(e.Fragment,{children:[e.jsx(Xe,{size:14})," Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{size:14})," Show ",m.length-s," more owners"]})}),e.jsxs("div",{className:"owner-acc-summary",children:[e.jsxs("span",{className:"owner-acc-summary-item",children:[e.jsx("span",{className:"owner-acc-summary-value",children:m.length}),e.jsx("span",{className:"owner-acc-summary-label",children:"Total Owners"})]}),e.jsxs("span",{className:"owner-acc-summary-item",children:[e.jsx("span",{className:"owner-acc-summary-value",children:m.filter(h=>h.owner==="Unassigned").length>0&&m.find(h=>h.owner==="Unassigned")?.assetCount||0}),e.jsx("span",{className:"owner-acc-summary-label",children:"Unassigned Assets"})]})]})]})});const nr=[{key:"overall",label:"Overall",color:"var(--color-purple-500)"},{key:"completeness",label:"Completeness",color:"var(--color-blue-500)"},{key:"accuracy",label:"Accuracy",color:"var(--color-green-500)"},{key:"timeliness",label:"Timeliness",color:"var(--color-yellow-500)"},{key:"consistency",label:"Consistency",color:"var(--color-orange-500)"},{key:"coverage",label:"Coverage",color:"var(--color-cyan-500)"}];u.memo(function({assets:t,periods:s=7}){const{getScoreBand:n}=ra(),i=u.useMemo(()=>{if(t.length===0)return[];const l=[];return nr.forEach(({key:c,label:m,color:f})=>{const g=Math.round(t.reduce((x,j)=>x+j.scores[c],0)/t.length),v=[],y=8;let p=g;for(let x=s;x>=0;x--)if(x===0)v.push({period:x,value:g});else{const w=((c.charCodeAt(0)+x)%10-5)*(y/5);p=Math.max(0,Math.min(100,Math.round(p-w))),v.unshift({period:x,value:p})}const h=v[v.length-2]?.value||g,N=g-h;l.push({dimension:c,label:m,current:g,previous:h,change:N,trend:N>2?"up":N<-2?"down":"stable",data:v,color:f})}),l},[t,s]),r=(l,c)=>m=>{const{active:f,payload:g}=m;if(f&&g&&g.length>0){const v=g[0].value;return e.jsxs("div",{className:"trend-sparkline-tooltip",children:[e.jsx("div",{className:"trend-sparkline-tooltip-label",children:l}),e.jsx("div",{className:"trend-sparkline-tooltip-value",style:{color:c},children:v})]})}return null},o=({trend:l})=>{switch(l){case"up":return e.jsx(la,{size:14,className:"trend-icon trend-up"});case"down":return e.jsx(Jt,{size:14,className:"trend-icon trend-down"});default:return e.jsx(Xt,{size:14,className:"trend-icon trend-stable"})}};return t.length===0?e.jsx("div",{className:"trend-sparklines trend-sparklines-empty",children:e.jsx("p",{children:"No asset data available"})}):e.jsxs("div",{className:"trend-sparklines",children:[e.jsxs("div",{className:"trend-sparklines-header",children:[e.jsx("h3",{className:"trend-sparklines-title",children:"Quality Trends"}),e.jsx(F,{content:e.jsxs("div",{className:"trend-sparklines-info",children:[e.jsx("strong",{children:"Quality Dimension Trends"}),e.jsx("p",{children:"Mini-charts showing how each quality dimension has changed over time. Green arrows indicate improvement, red indicates decline."}),e.jsx("p",{className:"trend-sparklines-info-note",children:"Note: Historical data is simulated for demonstration purposes."})]}),position:"bottom"})]}),e.jsx("div",{className:"trend-sparklines-grid",children:i.map(l=>e.jsxs("div",{className:"trend-sparkline-card",children:[e.jsxs("div",{className:"trend-sparkline-header",children:[e.jsx("span",{className:"trend-sparkline-label",children:l.label}),e.jsx(o,{trend:l.trend})]}),e.jsx("div",{className:"trend-sparkline-chart",children:e.jsx(Ne,{width:"100%",height:40,children:e.jsxs(Rt,{data:l.data,margin:{top:4,right:4,bottom:4,left:4},children:[e.jsx(_t,{type:"monotone",dataKey:"value",stroke:l.color,strokeWidth:2,dot:!1,animationDuration:300}),e.jsx(we,{content:r(l.label,l.color)})]})})}),e.jsxs("div",{className:"trend-sparkline-stats",children:[e.jsx("span",{className:`trend-sparkline-current ${n(l.current)}`,children:l.current}),e.jsx(Fa,{size:12,className:"trend-sparkline-arrow"}),e.jsxs("span",{className:`trend-sparkline-change ${l.trend}`,children:[l.change>0?"+":"",l.change]})]})]},l.dimension))})]})});const re=60,X=50;function rr(a){const t=oa(a.asset),s=a.asset.queryCount||0,n=Math.min(s/500,1),i=t*.7+n*.3;return Math.round(i*100)}function ir(a,t){const s=new Set;return a.forEach(n=>{let i;switch(t){case"assetType":i=n.asset.typeName;break;case"connection":i=n.asset.connectionName||n.asset.connectionQualifiedName?.split("/").pop();break;case"owner":i=n.asset.ownerUsers?.[0]||n.asset.ownerGroups?.[0]||"Unowned";break;case"certification":i=n.asset.certificateStatus||"None";break}i&&s.add(i)}),Array.from(s).sort()}const lr=u.memo(function({assets:t,onAssetClick:s}){const[n,i]=u.useState(null),[r,o]=u.useState("all"),[l,c]=u.useState(""),[m,f]=u.useState(!1),g=u.useMemo(()=>r==="all"?[]:ir(t,r),[t,r]),v=u.useMemo(()=>r==="all"||!l?t:t.filter(d=>{switch(r){case"assetType":return d.asset.typeName===l;case"connection":return(d.asset.connectionName||d.asset.connectionQualifiedName?.split("/").pop())===l;case"owner":return(d.asset.ownerUsers?.[0]||d.asset.ownerGroups?.[0]||"Unowned")===l;case"certification":return(d.asset.certificateStatus||"None")===l;default:return!0}}),[t,r,l]),{scatterData:y,quadrants:p,summary:h}=u.useMemo(()=>{const d=[],b=[],A=[],I=[],C=v.map(S=>{const M=S.scores.overall,O=rr(S);return M<re&&O>=X?d.push(S):M>=re&&O>=X?b.push(S):M<re&&O<X?A.push(S):I.push(S),{x:M,y:O,z:50,name:S.asset.name,guid:S.asset.guid,asset:S,quadrant:M<re?O>=X?"critical":"techDebt":O>=X?"healthy":"quickWins"}}),P={critical:{name:"Critical",description:"High usage, low quality - fix immediately",icon:e.jsx(ve,{size:16}),color:"var(--color-red-500)",count:d.length,assets:d},healthy:{name:"Healthy",description:"High usage, good quality - maintain",icon:e.jsx(Wa,{size:16}),color:"var(--color-green-500)",count:b.length,assets:b},techDebt:{name:"Tech Debt",description:"Low usage, low quality - backlog",icon:e.jsx(Gt,{size:16}),color:"var(--color-gray-500)",count:A.length,assets:A},quickWins:{name:"Quick Wins",description:"Low usage, good quality - low priority",icon:e.jsx(Ka,{size:16}),color:"var(--color-blue-500)",count:I.length,assets:I}};return{scatterData:C,quadrants:P,summary:{criticalRisk:d.length,avgCriticalQuality:d.length>0?Math.round(d.reduce((S,M)=>S+M.scores.overall,0)/d.length):0,healthyPercent:Math.round(b.length/(v.length||1)*100)}}},[v]),N=u.useCallback(d=>({critical:"var(--color-red-500)",healthy:"var(--color-green-500)",techDebt:"var(--color-gray-400)",quickWins:"var(--color-blue-400)"})[d]||"var(--color-gray-400)",[]),x=n?y.filter(d=>d.quadrant===n):y,j=d=>{o(d),c("")},w=d=>{const{active:b,payload:A}=d;if(!b||!A?.[0])return null;const I=A[0].payload,C=I.asset;return e.jsxs("div",{className:"matrix-tooltip",children:[e.jsx("div",{className:"matrix-tooltip-name",children:I.name}),e.jsx("div",{className:"matrix-tooltip-type",children:C.asset.typeName}),e.jsxs("div",{className:"matrix-tooltip-row",children:[e.jsx("span",{children:"Quality:"}),e.jsxs("span",{className:"matrix-tooltip-value",children:[Math.round(I.x),"%"]})]}),e.jsxs("div",{className:"matrix-tooltip-row",children:[e.jsx("span",{children:"Usage:"}),e.jsxs("span",{className:"matrix-tooltip-value",children:[Math.round(I.y),"%"]})]}),e.jsx("div",{className:"matrix-tooltip-quadrant",style:{color:N(I.quadrant)},children:p[I.quadrant].name})]})};return e.jsxs("div",{className:"quality-impact-matrix",children:[e.jsxs("div",{className:"matrix-header",children:[e.jsxs("div",{className:"matrix-title",children:[e.jsx("h3",{children:"Quality Impact Matrix"}),e.jsx(F,{content:"Shows assets plotted by quality score (x-axis) vs usage/popularity (y-axis). Critical quadrant shows high-usage assets with poor quality that need immediate attention."})]}),e.jsxs("div",{className:"matrix-header-right",children:[h.criticalRisk>0&&e.jsxs("div",{className:"matrix-alert",children:[e.jsx(ve,{size:14}),e.jsxs("span",{children:[h.criticalRisk," critical assets at ",h.avgCriticalQuality,"% avg quality"]})]}),e.jsxs("button",{className:`matrix-filter-toggle ${m?"active":""}`,onClick:()=>f(!m),children:[e.jsx(Oa,{size:14}),e.jsx("span",{children:"Filter"}),e.jsx(he,{size:12,className:m?"rotated":""})]})]})]}),m&&e.jsxs("div",{className:"matrix-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Dimension:"}),e.jsxs("select",{value:r,onChange:d=>j(d.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Assets"}),e.jsx("option",{value:"assetType",children:"Asset Type"}),e.jsx("option",{value:"connection",children:"Connection"}),e.jsx("option",{value:"owner",children:"Owner"}),e.jsx("option",{value:"certification",children:"Certification"})]})]}),r!=="all"&&g.length>0&&e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Value:"}),e.jsxs("select",{value:l,onChange:d=>c(d.target.value),className:"filter-select",children:[e.jsxs("option",{value:"",children:["All ",r]}),g.map(d=>e.jsx("option",{value:d,children:d},d))]})]}),l&&e.jsxs("div",{className:"filter-active",children:[e.jsxs("span",{children:["Showing: ",l]}),e.jsx("button",{onClick:()=>{o("all"),c("")},children:"Clear"})]})]}),e.jsxs("div",{className:"matrix-content",children:[e.jsxs("div",{className:"matrix-chart",children:[e.jsx(Ne,{width:"100%",height:320,children:e.jsxs(Jn,{margin:{top:20,right:20,bottom:30,left:40},children:[e.jsx(Ea,{type:"number",dataKey:"x",name:"Quality",domain:[0,100],tickFormatter:d=>`${d}%`,tick:{fontSize:11},label:{value:"Quality Score",position:"bottom",offset:10,fontSize:12}}),e.jsx(Ta,{type:"number",dataKey:"y",name:"Usage",domain:[0,100],tickFormatter:d=>`${d}%`,tick:{fontSize:11},label:{value:"Usage",angle:-90,position:"left",offset:-5,fontSize:12}}),e.jsx(_a,{type:"number",dataKey:"z",range:[30,100]}),e.jsx(we,{content:w}),e.jsx(Ce,{x:re,stroke:"var(--border-default)",strokeDasharray:"3 3"}),e.jsx(Ce,{y:X,stroke:"var(--border-default)",strokeDasharray:"3 3"}),e.jsx(Ra,{data:x,onClick:d=>s?.(d.asset),cursor:"pointer",children:x.map((d,b)=>e.jsx(je,{fill:N(d.quadrant),fillOpacity:.7,stroke:N(d.quadrant),strokeWidth:1},`cell-${b}`))})]})}),e.jsxs("div",{className:"matrix-quadrant-labels",children:[e.jsx("div",{className:"quadrant-label top-left",children:"Critical"}),e.jsx("div",{className:"quadrant-label top-right",children:"Healthy"}),e.jsx("div",{className:"quadrant-label bottom-left",children:"Tech Debt"}),e.jsx("div",{className:"quadrant-label bottom-right",children:"Quick Wins"})]})]}),e.jsx("div",{className:"matrix-legend",children:Object.entries(p).map(([d,b])=>e.jsxs("button",{className:`matrix-legend-item ${n===d?"selected":""}`,onClick:()=>i(n===d?null:d),style:{"--quad-color":b.color},children:[e.jsx("div",{className:"legend-icon",style:{color:b.color},children:b.icon}),e.jsxs("div",{className:"legend-content",children:[e.jsx("div",{className:"legend-name",children:b.name}),e.jsxs("div",{className:"legend-count",children:[b.count," assets"]})]})]},d))})]}),e.jsxs("div",{className:"matrix-summary",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Total"}),e.jsx("span",{className:"summary-value",children:v.length})]}),e.jsxs("div",{className:"summary-item critical",children:[e.jsx("span",{className:"summary-label",children:"Critical"}),e.jsx("span",{className:"summary-value",children:p.critical.count})]}),e.jsxs("div",{className:"summary-item healthy",children:[e.jsx("span",{className:"summary-label",children:"Healthy"}),e.jsx("span",{className:"summary-value",children:p.healthy.count})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"summary-label",children:"Health Rate"}),e.jsxs("span",{className:"summary-value",children:[h.healthyPercent,"%"]})]})]})]})}),z={description:15,owner:12,glossaryTerms:8,tags:6,certification:10,lineage:8};function or(a,t){const s=new Set;return a.forEach(n=>{let i;switch(t){case"assetType":i=n.asset.typeName;break;case"connection":i=n.asset.connectionName||n.asset.connectionQualifiedName?.split("/").pop();break;case"owner":i=n.asset.ownerUsers?.[0]||n.asset.ownerGroups?.[0]||"Unowned";break}i&&s.add(i)}),Array.from(s).sort()}const cr=u.memo(function({assets:t,onAssetClick:s}){const[n,i]=u.useState(null),[r,o]=u.useState("impact"),[l,c]=u.useState("all"),[m,f]=u.useState(""),[g,v]=u.useState(!1),y=u.useMemo(()=>l==="all"?[]:or(t,l),[t,l]),p=u.useMemo(()=>l==="all"||!m?t:t.filter(d=>{switch(l){case"assetType":return d.asset.typeName===m;case"connection":return(d.asset.connectionName||d.asset.connectionQualifiedName?.split("/").pop())===m;case"owner":return(d.asset.ownerUsers?.[0]||d.asset.ownerGroups?.[0]||"Unowned")===m;default:return!0}}),[t,l,m]),{categories:h,summary:N}=u.useMemo(()=>{const d=[],b=[],A=[],I=[],C=[],P=[];p.forEach(E=>{const k=E.asset,ue=!!(k.description||k.userDescription),me=k.ownerUsers&&k.ownerUsers.length>0||k.ownerGroups&&k.ownerGroups.length>0,Ae=k.meanings&&k.meanings.length>0,Ie=k.classificationNames&&k.classificationNames.length>0||k.atlanTags&&k.atlanTags.length>0,Se=k.certificateStatus==="VERIFIED",La=k.__hasLineage;ue||d.push(E),me||b.push(E),Ae||A.push(E),Ie||I.push(E),Se||C.push(E),La||P.push(E)});const S=p.length||1,O=[...[{id:"owner",name:"Missing Owners",icon:e.jsx(ia,{size:16}),description:"Unowned assets lack accountability and can become stale",assets:b,impactPerAsset:z.owner/100,totalImpact:b.length/S*z.owner,effortEstimate:"~2 min each"},{id:"description",name:"Missing Descriptions",icon:e.jsx(Ua,{size:16}),description:"Assets without descriptions are hard to discover and understand",assets:d,impactPerAsset:z.description/100,totalImpact:d.length/S*z.description,effortEstimate:"~5 min each"},{id:"terms",name:"No Glossary Terms",icon:e.jsx(Ga,{size:16}),description:"Assets not linked to business glossary terms",assets:A,impactPerAsset:z.glossaryTerms/100,totalImpact:A.length/S*z.glossaryTerms,effortEstimate:"~3 min each"},{id:"certification",name:"Not Certified",icon:e.jsx(Qa,{size:16}),description:"Uncertified assets reduce trust in data quality",assets:C,impactPerAsset:z.certification/100,totalImpact:C.length/S*z.certification,effortEstimate:"~10 min each"},{id:"lineage",name:"No Lineage",icon:e.jsx(Ha,{size:16}),description:"Assets without documented lineage relationships",assets:P,impactPerAsset:z.lineage/100,totalImpact:P.length/S*z.lineage,effortEstimate:"Varies"},{id:"tags",name:"No Tags/Classifications",icon:e.jsx(Za,{size:16}),description:"Assets without classification tags for governance",assets:I,impactPerAsset:z.tags/100,totalImpact:I.length/S*z.tags,effortEstimate:"~2 min each"}]].sort((E,k)=>r==="impact"?k.totalImpact-E.totalImpact:k.assets.length-E.assets.length),B=p.length>0?Math.round(p.reduce((E,k)=>E+k.scores.overall,0)/p.length):0,se=O.reduce((E,k)=>E+k.totalImpact,0),ne=O[0];return{categories:O,summary:{currentScore:B,potentialScore:Math.min(100,B+Math.round(se)),topGap:ne?.name||"None",topGapCount:ne?.assets.length||0,totalGaps:O.reduce((E,k)=>E+k.assets.length,0)}}},[p,r]),x=d=>{i(n===d?null:d)},j=d=>{c(d),f("")},w=u.useMemo(()=>p.filter(b=>b.scores.overall<70).map(b=>{const A=oa(b.asset),I=(100-b.scores.overall)/100;return{...b,impactScore:A*I}}).sort((b,A)=>A.impactScore-b.impactScore).slice(0,10),[p]);return e.jsxs("div",{className:"remediation-prioritizer",children:[e.jsxs("div",{className:"remediation-header",children:[e.jsxs("div",{className:"remediation-title",children:[e.jsx("h3",{children:"Remediation Prioritizer"}),e.jsx(F,{content:"Prioritized list of metadata gaps to fix, ranked by potential impact on overall quality score."})]}),e.jsxs("div",{className:"remediation-controls",children:[e.jsx("button",{className:`filter-toggle ${g?"active":""}`,onClick:()=>v(!g),children:e.jsx(Oa,{size:14})}),e.jsxs("select",{value:r,onChange:d=>o(d.target.value),className:"sort-select",children:[e.jsx("option",{value:"impact",children:"Sort by Impact"}),e.jsx("option",{value:"count",children:"Sort by Count"})]})]})]}),g&&e.jsxs("div",{className:"remediation-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Filter by:"}),e.jsxs("select",{value:l,onChange:d=>j(d.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Assets"}),e.jsx("option",{value:"assetType",children:"Asset Type"}),e.jsx("option",{value:"connection",children:"Connection"}),e.jsx("option",{value:"owner",children:"Owner"})]})]}),l!=="all"&&y.length>0&&e.jsx("div",{className:"filter-group",children:e.jsxs("select",{value:m,onChange:d=>f(d.target.value),className:"filter-select",children:[e.jsx("option",{value:"",children:"All"}),y.map(d=>e.jsx("option",{value:d,children:d},d))]})}),m&&e.jsx("button",{className:"filter-clear",onClick:()=>{c("all"),f("")},children:"Clear"})]}),e.jsxs("div",{className:"remediation-summary",children:[e.jsxs("div",{className:"summary-stat",children:[e.jsx("div",{className:"summary-label",children:"CURRENT SCORE"}),e.jsxs("div",{className:"summary-value",children:[N.currentScore,"%"]})]}),e.jsx("div",{className:"summary-arrow",children:e.jsx(la,{size:20})}),e.jsxs("div",{className:"summary-stat highlight",children:[e.jsx("div",{className:"summary-label",children:"POTENTIAL"}),e.jsxs("div",{className:"summary-value",children:[N.potentialScore,"%"]})]}),e.jsxs("div",{className:"summary-detail",children:[e.jsx("span",{className:"summary-gap-count",children:N.totalGaps})," gaps across"," ",e.jsx("span",{className:"summary-asset-count",children:p.length})," assets"]})]}),e.jsx("div",{className:"gap-categories",children:h.map(d=>e.jsxs("div",{className:"gap-category",children:[e.jsxs("button",{className:`gap-category-header ${n===d.id?"expanded":""}`,onClick:()=>x(d.id),children:[e.jsx("div",{className:"gap-icon",children:d.icon}),e.jsxs("div",{className:"gap-info",children:[e.jsx("div",{className:"gap-name",children:d.name}),e.jsxs("div",{className:"gap-meta",children:[e.jsxs("span",{className:"gap-count",children:[d.assets.length," assets"]}),e.jsxs("span",{className:"gap-impact",children:["+",d.totalImpact.toFixed(1),"% potential"]})]})]}),e.jsx("div",{className:"gap-effort",children:d.effortEstimate}),e.jsx("div",{className:"gap-chevron",children:n===d.id?e.jsx(he,{size:16}):e.jsx(Va,{size:16})})]}),n===d.id&&e.jsxs("div",{className:"gap-assets",children:[e.jsx("div",{className:"gap-description",children:d.description}),e.jsxs("div",{className:"gap-asset-list",children:[d.assets.slice(0,20).map(b=>e.jsxs("button",{className:"gap-asset-item",onClick:()=>s?.(b),children:[e.jsx("span",{className:"asset-name",children:b.asset.name}),e.jsx("span",{className:"asset-type",children:b.asset.typeName}),e.jsxs("span",{className:"asset-score",children:[Math.round(b.scores.overall),"%"]})]},b.asset.guid)),d.assets.length>20&&e.jsxs("div",{className:"gap-more",children:["+",d.assets.length-20," more"]})]})]})]},d.id))}),w.length>0&&e.jsxs("div",{className:"top-fixes",children:[e.jsxs("div",{className:"top-fixes-header",children:[e.jsx("h4",{children:"Top 10 Assets to Fix"}),e.jsx("span",{className:"top-fixes-subtitle",children:"Ranked by usage Ã— quality gap"})]}),e.jsx("div",{className:"top-fixes-list",children:w.map((d,b)=>e.jsxs("button",{className:"top-fix-item",onClick:()=>s?.(d),children:[e.jsx("span",{className:"fix-rank",children:b+1}),e.jsx("span",{className:"fix-name",children:d.asset.name}),e.jsxs("span",{className:"fix-score",children:[Math.round(d.scores.overall),"%"]})]},d.asset.guid))})]})]})}),dr=[{field:"description",label:"Description",assetTypes:["*"],check:a=>!!(a.description&&a.description.trim().length>0)},{field:"owners",label:"Owners",assetTypes:["Table","View","MaterializedView","Database","Schema"],check:a=>!!(a.owner||a.ownerGroup)},{field:"tags",label:"Tags",assetTypes:["*"],check:a=>!!(a.tags&&a.tags.length>0)},{field:"terms",label:"Glossary Terms",assetTypes:["*"],check:(a,t)=>!!(t.meanings&&t.meanings.length>0)},{field:"lineage",label:"Lineage",assetTypes:["Table","View","MaterializedView","Process"],check:a=>!!a.hasLineage},{field:"certificate",label:"Certificate",assetTypes:["Table","View","MaterializedView"],check:a=>!!(a.certificationStatus&&a.certificationStatus!=="none")},{field:"classifications",label:"Classifications",assetTypes:["*"],check:(a,t)=>!!(t.classificationNames&&t.classificationNames.length>0)},{field:"readme",label:"README",assetTypes:["Table","View","MaterializedView","Database"],check:(a,t)=>!!t.readme},{field:"domain",label:"Domain",assetTypes:["Table","View","MaterializedView"],check:a=>!!(a.domain&&a.domain!=="No Domain")}],ur=[{field:"description",label:"Description",total:1250,populated:875,percentage:70,byAssetType:{Table:{total:500,populated:400},View:{total:300,populated:225},Column:{total:450,populated:250}}},{field:"owners",label:"Owners",total:800,populated:480,percentage:60,byAssetType:{Table:{total:500,populated:350},View:{total:300,populated:130}}},{field:"tags",label:"Tags",total:1250,populated:375,percentage:30,byAssetType:{Table:{total:500,populated:200},View:{total:300,populated:90},Column:{total:450,populated:85}}},{field:"terms",label:"Glossary Terms",total:1250,populated:250,percentage:20,byAssetType:{Table:{total:500,populated:125},View:{total:300,populated:60},Column:{total:450,populated:65}}},{field:"lineage",label:"Lineage",total:800,populated:640,percentage:80,byAssetType:{Table:{total:500,populated:425},View:{total:300,populated:215}}},{field:"certificate",label:"Certificate",total:800,populated:200,percentage:25,byAssetType:{Table:{total:500,populated:150},View:{total:300,populated:50}}},{field:"classifications",label:"Classifications",total:1250,populated:500,percentage:40,byAssetType:{Table:{total:500,populated:225},View:{total:300,populated:120},Column:{total:450,populated:155}}},{field:"readme",label:"README",total:800,populated:120,percentage:15,byAssetType:{Table:{total:500,populated:85},View:{total:300,populated:35}}},{field:"domain",label:"Domain",total:800,populated:320,percentage:40,byAssetType:{Table:{total:500,populated:200},View:{total:300,populated:120}}}];function mr(a){if(a.length===0)return[];const t=new Map;a.forEach(n=>{const i=n.metadata.assetType||"Unknown";t.has(i)||t.set(i,[]),t.get(i).push(n)});const s=Array.from(t.keys());return dr.map(n=>{const i={};let r=0,o=0;return(n.assetTypes.includes("*")?s:s.filter(c=>n.assetTypes.includes(c))).forEach(c=>{const m=t.get(c)||[],f=m.length,g=m.filter(v=>n.check(v.metadata,v.asset)).length;i[c]={total:f,populated:g},r+=f,o+=g}),{field:n.field,label:n.label,total:r,populated:o,percentage:r>0?Math.round(o/r*100):0,byAssetType:i}})}function pr(a){const{assetsWithScores:t}=ca(),s=!1;return u.useMemo(()=>t.length>0&&!s?{coverage:mr(t),isDemo:!1,assetCount:t.length}:{coverage:ur,isDemo:!0,assetCount:0},[t,s])}function hr(a){if(a.length===0)return 0;const t=a.reduce((s,n)=>s+n.percentage,0);return Math.round(t/a.length)}function vr(a,t=3){return[...a].sort((s,n)=>s.percentage-n.percentage).slice(0,t)}function xr(a,t){const s=a.assetTypeRequirements.reduce((l,c)=>l+c.requirements.filter(m=>m.level==="required").length,0),n=a.assetTypeRequirements.reduce((l,c)=>l+c.requirements.filter(m=>m.level==="recommended").length,0),i=a.assetTypeRequirements.reduce((l,c)=>l+c.requirements.filter(m=>m.level==="optional").length,0),r=t.length>0?Math.round(t.reduce((l,c)=>l+c.percentage,0)/t.length):0,o=[...t].sort((l,c)=>l.percentage-c.percentage).slice(0,5).map(l=>({field:l.field,percentage:l.percentage}));return{generatedAt:new Date().toISOString(),matrix:{name:a.name,assetTypes:a.assetTypeRequirements.length,totalRequirements:s+n+i,requiredFields:s,recommendedFields:n,optionalFields:i},coverage:{overallCompleteness:r,fieldDetails:t.map(l=>({field:l.field,percentage:l.percentage,populated:l.populated,total:l.total})),topGaps:o}}}function fr(a,t){const s=xr(a,t),n=JSON.stringify(s,null,2),i=new Blob([n],{type:"application/json"}),r=URL.createObjectURL(i),o=document.createElement("a");o.href=r,o.download=`analytics-report-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}function gr(){const a=["Snowflake Production","BigQuery Analytics","Redshift DW","PostgreSQL"],t=["data-team@company.com","analytics@company.com","engineering@company.com",null],s=["analytics","staging","raw","marts"],n=[];for(let i=0;i<50;i++){const r=Math.random()>.3,o=Math.random()>.4,l=Math.random()>.5,c=Math.random()>.7,m=Math.random()>.4,f=Math.random()>.7,g=Math.round(Number(r)*30+Number(o)*25+Number(l)*15+Number(c)*15+Number(m)*15),v=Math.round(50+Math.random()*50),y=Math.round(40+Math.random()*60),p=Math.round(60+Math.random()*40),h=Math.round(Number(r)*40+Number(o)*30+Number(f)*30),N=Math.round((g+v+y+p+h)/5),x=i%a.length,j=i%t.length,w=i%s.length,d=t[j],b=`${s[w]}_table_${i+1}`,A=i%5===0?"View":"Table",I={guid:`sample-${i}`,typeName:A,name:b,qualifiedName:`${a[x]}/${s[w]}/${b}`,connectionName:a[x],connectionQualifiedName:`default/${a[x].toLowerCase().replace(/\s+/g,"-")}`,description:r?`Sample description for ${b}`:void 0,ownerUsers:o&&d?[d]:void 0,certificateStatus:f?"VERIFIED":void 0,classificationNames:l?["PII","Confidential"].slice(0,Math.floor(Math.random()*3)):void 0,meanings:c?[{displayText:"Revenue"}]:void 0,__hasLineage:m,popularityScore:Math.round(Math.random()*500),viewScore:Math.round(Math.random()*200),starredCount:Math.floor(Math.random()*10)},C={id:I.guid,name:I.name,assetType:A,connection:a[x],domain:void 0,description:I.description,owner:d||void 0,tags:I.classificationNames,certificationStatus:f?"certified":"none",lastUpdated:new Date(Date.now()-Math.random()*90*24*60*60*1e3)};n.push({asset:I,metadata:C,scores:{completeness:g,accuracy:v,timeliness:y,consistency:p,usability:h,overall:N}})}return n}const yr={name:"Default DaaP Requirements",description:"Standard Data as a Product requirements for enterprise assets",assetTypeRequirements:[{assetType:"Table",requirements:[{field:"description",level:"required"},{field:"ownerUsers",level:"required"},{field:"tags",level:"recommended"},{field:"assignedTerms",level:"recommended"},{field:"lineage",level:"required"},{field:"certificateStatus",level:"required"},{field:"readme",level:"optional"},{field:"columns",level:"required"},{field:"classifications",level:"required"}]},{assetType:"View",requirements:[{field:"description",level:"required"},{field:"ownerUsers",level:"required"},{field:"tags",level:"recommended"},{field:"lineage",level:"required"},{field:"columns",level:"required"}]},{assetType:"Column",requirements:[{field:"description",level:"recommended"},{field:"classifications",level:"required"},{field:"assignedTerms",level:"recommended"}]}]},jr=gr();function Or(){const[a]=u.useState(yr),{coverage:t,isDemo:s,assetCount:n}=pr(),i=hr(t),r=vr(t,3),{assetsWithScores:o}=ca(),{openPreview:l}=Xa(),c=o.length===0,m=u.useMemo(()=>c?jr:o,[c,o]),f=c||s,g=()=>{fr(a,t)},v=y=>{c||l(y.asset)};return e.jsxs("div",{className:"analytics-page",children:[e.jsx(at,{title:"DaaP Analytics",children:e.jsxs(Ya,{variant:"secondary",onClick:g,children:[e.jsx(Vt,{size:16}),"Export Report"]})}),e.jsxs("div",{className:"analytics-content",children:[e.jsxs("div",{className:"analytics-top-grid",children:[e.jsx("div",{className:"analytics-radar-section",children:e.jsx(er,{matrix:a})}),e.jsxs("div",{className:"analytics-stats-section",children:[e.jsx(Y,{content:e.jsxs("div",{className:"stat-card-tooltip",children:[e.jsx("strong",{children:"Overall Completeness"}),e.jsx("p",{children:"The average metadata coverage across all fields and asset types."}),e.jsxs("div",{className:"stat-card-tooltip-calc",children:[e.jsx("span",{className:"tooltip-calc-label",children:"Calculation:"}),e.jsx("div",{className:"tooltip-calc-formula",children:"Sum of all field coverages Ã· Number of tracked fields"}),e.jsxs("div",{className:"tooltip-calc-result",children:[e.jsxs("span",{className:"tooltip-calc-value",children:[i,"%"]}),e.jsxs("span",{className:"tooltip-calc-breakdown",children:["(",t.length," fields tracked)"]})]})]})]}),position:"bottom",maxWidth:320,children:e.jsxs("div",{className:"stat-card stat-card-primary",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx(Fe,{size:18}),e.jsx("span",{children:"Overall Completeness"}),e.jsx(F,{content:e.jsxs("div",{children:[e.jsx("strong",{children:"What is Overall Completeness?"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"The average metadata coverage across all fields and asset types. Higher percentages indicate better documentation of your data assets."})]})})]}),e.jsxs("div",{className:"stat-card-value",children:[i,"%"]}),e.jsx("div",{className:"stat-card-progress",children:e.jsx("div",{className:"stat-card-progress-fill",style:{width:`${i}%`}})})]})}),e.jsxs("div",{className:"stat-card",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx(ve,{size:18}),e.jsx("span",{children:"Top Gaps"}),e.jsx(F,{content:e.jsxs("div",{children:[e.jsx("strong",{children:"Top Metadata Gaps"}),e.jsx("p",{style:{margin:"8px 0 0 0"},children:"Fields with the lowest coverage percentages. These are opportunities to improve your data documentation and discoverability."})]})})]}),e.jsxs("ul",{className:"gap-list",children:[r.map(y=>{const p=ie(y.field);return e.jsx(Y,{content:p?e.jsxs("div",{className:"gap-tooltip",children:[e.jsxs("div",{className:"gap-tooltip-header",children:[e.jsx("span",{children:p.name}),e.jsx("span",{className:`gap-tooltip-badge gap-tooltip-badge-${p.importance}`,children:p.importance})]}),e.jsx("p",{children:p.description}),e.jsxs("div",{className:"gap-tooltip-dimension",children:["DaaP Dimension: ",e.jsx("strong",{children:p.daapDimension})]})]}):y.field,position:"left",maxWidth:280,children:e.jsxs("li",{className:"gap-item",children:[e.jsx("span",{className:"gap-field",children:p?.name||y.field}),e.jsxs("span",{className:"gap-value",children:[Math.round(y.percentage),"%"]})]})},y.field)}),r.length===0&&e.jsx("li",{className:"gap-item gap-empty",children:"No data available"})]})]}),e.jsxs("div",{className:"stat-card stat-card-recommendation",children:[e.jsxs("div",{className:"stat-card-header",children:[e.jsx(Ht,{size:18}),e.jsx("span",{children:"AI Recommendation"})]}),e.jsxs("p",{className:"recommendation-text",children:["Based on your current coverage, focusing on"," ",e.jsx("strong",{children:"Descriptions"})," and ",e.jsx("strong",{children:"Owners"})," for your Tables would yield the highest impact on your Data Trust score."]})]})]})]}),e.jsx("div",{className:"analytics-heatmap-section",children:e.jsx(ar,{coverage:t})}),f&&e.jsxs("div",{className:"demo-data-banner",children:[e.jsx(Ja,{size:16}),e.jsx("span",{children:"Showing sample data for demonstration. Drag assets from the Asset Browser to see real metrics."})]}),!f&&n>0&&e.jsxs("div",{className:"real-data-banner",children:[e.jsx(Fe,{size:16}),e.jsxs("span",{children:["Analyzing ",e.jsx("strong",{children:n})," assets from your Atlan workspace."]})]}),m.length>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"analytics-impact-section",children:[e.jsx(lr,{assets:m,onAssetClick:v}),e.jsx(cr,{assets:m,onAssetClick:v})]})}),e.jsx("div",{className:"analytics-requirements",children:e.jsxs(et,{children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"card-title",children:"Requirements Matrix"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"requirements-summary",children:[e.jsxs("div",{className:"requirement-stat",children:[e.jsx("div",{className:"requirement-stat-value",children:a.assetTypeRequirements.length}),e.jsx("div",{className:"requirement-stat-label",children:"Asset Types"})]}),e.jsxs("div",{className:"requirement-stat",children:[e.jsx("div",{className:"requirement-stat-value",children:a.assetTypeRequirements.reduce((y,p)=>y+p.requirements.filter(h=>h.level==="required").length,0)}),e.jsx("div",{className:"requirement-stat-label",children:"Required Fields"})]}),e.jsxs("div",{className:"requirement-stat",children:[e.jsx("div",{className:"requirement-stat-value",children:a.assetTypeRequirements.reduce((y,p)=>y+p.requirements.filter(h=>h.level==="recommended").length,0)}),e.jsx("div",{className:"requirement-stat-label",children:"Recommended"})]}),e.jsxs("div",{className:"requirement-stat",children:[e.jsx("div",{className:"requirement-stat-value",children:a.assetTypeRequirements.reduce((y,p)=>y+p.requirements.filter(h=>h.level==="optional").length,0)}),e.jsx("div",{className:"requirement-stat-label",children:"Optional"})]})]}),e.jsx("div",{className:"requirements-table-wrapper",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Asset Type"}),e.jsx("th",{className:"center",children:"Required"}),e.jsx("th",{className:"center",children:"Recommended"}),e.jsx("th",{className:"center",children:"Optional"}),e.jsx("th",{children:"Fields"})]})}),e.jsx("tbody",{children:a.assetTypeRequirements.map(y=>e.jsxs("tr",{children:[e.jsx("td",{className:"asset-type-cell",children:e.jsx("span",{className:"asset-type-badge",children:y.assetType})}),e.jsx("td",{className:"center",children:y.requirements.filter(p=>p.level==="required").length}),e.jsx("td",{className:"center",children:y.requirements.filter(p=>p.level==="recommended").length}),e.jsx("td",{className:"center",children:y.requirements.filter(p=>p.level==="optional").length}),e.jsx("td",{children:e.jsxs("div",{className:"field-tags",children:[y.requirements.slice(0,4).map(p=>{const h=ie(p.field);return e.jsx(Y,{content:h?e.jsxs("div",{className:"field-tag-tooltip",children:[e.jsxs("div",{className:"field-tag-tooltip-header",children:[e.jsx("span",{children:h.name}),e.jsx("span",{className:`field-tag-tooltip-badge field-tag-tooltip-badge-${h.importance}`,children:h.importance})]}),e.jsx("p",{children:h.description}),e.jsxs("div",{className:"field-tag-tooltip-dimension",children:["DaaP Dimension: ",e.jsx("strong",{children:h.daapDimension})]})]}):p.field,position:"top",maxWidth:280,children:e.jsx("span",{className:`field-tag field-tag-${p.level}`,children:h?.name||p.field})},p.field)}),y.requirements.length>4&&e.jsx(Y,{content:e.jsxs("div",{className:"field-tag-more-tooltip",children:[e.jsx("strong",{children:"Additional fields:"}),e.jsx("ul",{children:y.requirements.slice(4).map(p=>{const h=ie(p.field);return e.jsxs("li",{children:[e.jsx("span",{children:h?.name||p.field}),e.jsx("span",{className:`field-tag-more-badge field-tag-more-badge-${p.level}`,children:p.level})]},p.field)})})]}),position:"top",maxWidth:280,children:e.jsxs("span",{className:"field-tag field-tag-more",children:["+",y.requirements.length-4]})})]})})]},y.assetType))})]})})]})]})})]})]})}export{Or as AnalyticsPage};
