import{H as h,J as b,j as e,a6 as m,ax as x,y as u,bg as g,U as p,ac as j,O as f,n as N}from"./index-BYXjn4hA.js";import{P as v}from"./panels-top-left-DTLLccZp.js";function w({gapAnalysis:l}){const{overallGap:r,feasibilityScore:a,prioritizedActions:i}=l;return e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(m,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Gap Analysis"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[Math.round(r.current),"%"]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Current Coverage"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[Math.round(r.target),"%"]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Target Coverage"})]}),e.jsxs("div",{className:"text-center p-3 bg-slate-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-amber-600",children:[Math.round(r.gap),"%"]}),e.jsx("div",{className:"text-xs text-slate-500",children:"Gap to Close"})]})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Feasibility Assessment"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${a.level==="Conservative"?"bg-emerald-100 text-emerald-700":a.level==="Realistic"?"bg-blue-100 text-blue-700":a.level==="Ambitious"?"bg-amber-100 text-amber-700":"bg-red-100 text-red-700"}`,children:a.level})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full ${a.score>=70?"bg-emerald-500":a.score>=50?"bg-blue-500":a.score>=30?"bg-amber-500":"bg-red-500"}`,style:{width:`${a.score}%`}})}),e.jsx("ul",{className:"text-xs text-slate-600 space-y-1 mt-3",children:a.rationale.map((s,d)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-slate-400"}),s]},d))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-3",children:"Top Priority Actions"}),e.jsx("div",{className:"space-y-2",children:i.slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${s.priority==="P0"?"bg-red-100 text-red-700":s.priority==="P1"?"bg-amber-100 text-amber-700":s.priority==="P2"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:s.priority}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-slate-800",children:s.description}),e.jsxs("div",{className:"text-xs text-slate-500",children:[s.currentState," â†’ ",s.targetState]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-600",children:[s.effort.assetCount," assets"]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["~",s.effort.hoursEstimate,"h"]})]})]},s.id))})]})]})}function y({plan:l,isActive:r,onClick:a}){const i=l.progress.length>0?Math.round(l.progress.reduce((t,c)=>t+c.percentComplete,0)/l.progress.length):0,s=l.requirements.filter(t=>t.statusType==="required").length,d=l.progress.filter(t=>l.requirements.find(n=>n.id===t.requirementId)?.statusType==="required"&&t.percentComplete>=100).length;return e.jsxs("button",{onClick:a,className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${r?"bg-white text-blue-700 shadow-md ring-1 ring-blue-200 border-l-4 border-l-blue-600":"bg-white text-slate-600 hover:shadow-sm border border-slate-200 hover:border-slate-300"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[e.jsx("div",{className:"font-bold truncate text-slate-900",children:l.name}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ${l.status==="completed"?"bg-emerald-50 text-emerald-700":l.status==="in-progress"?"bg-blue-50 text-blue-700":"bg-slate-50 text-slate-500"}`,children:l.status})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-slate-500",children:"Progress"}),e.jsxs("span",{className:"font-medium text-slate-700",children:[i,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full transition-all ${i>=80?"bg-emerald-500":i>=50?"bg-blue-500":i>=20?"bg-amber-500":"bg-slate-300"}`,style:{width:`${i}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),d,"/",s," required"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3"}),new Date(l.updatedAt).toLocaleDateString()]})]})]})}function A(){const l=h(),{plans:r,activePlanId:a,setActivePlanId:i}=b(),s=r.find(t=>t.id===a)||r[0],d=()=>{s&&l("/planning/workbench",{state:{planId:s.id}})};return r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 p-8",children:[e.jsx(v,{className:"w-16 h-16 mb-4 text-slate-300"}),e.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"No Enrichment Plans"}),e.jsx("p",{className:"max-w-md text-center mt-2 mb-6",children:'Create an enrichment plan from the Quality Dashboard by clicking "Create Enrichment Plan", or use the Modeling Assistant to generate a plan from scratch.'}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>l("/dashboard"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium flex items-center gap-2",children:[e.jsx(m,{className:"w-4 h-4"}),"Go to Quality Dashboard"]}),e.jsxs("button",{onClick:()=>l("/planning/assistant"),className:"px-4 py-2 bg-white border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 text-sm font-medium flex items-center gap-2",children:[e.jsx(x,{className:"w-4 h-4"}),"Start Modeling Assistant"]})]})]}):e.jsxs("div",{className:"flex h-full bg-slate-50",children:[e.jsxs("div",{className:"w-80 bg-slate-50 border-r border-slate-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-slate-200 bg-white",children:[e.jsx("h2",{className:"font-semibold text-slate-900",children:"Enrichment Plans"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Plans created from quality assessments"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:r.map(t=>e.jsx(y,{plan:t,isActive:s?.id===t.id,onClick:()=>i(t.id)},t.id))})]}),s?e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-4 h-4"}),"Target: ",new Date(s.targetDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(x,{className:"w-4 h-4"}),s.requirements.length," Requirements"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-bold shadow-sm",children:[e.jsx(g,{className:"w-4 h-4"}),"Open Workbench"]}),e.jsxs("button",{onClick:()=>l("/planning/governance"),className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-700 hover:bg-slate-50 text-sm font-medium",children:[e.jsx(p,{className:"w-4 h-4"}),"Governance Studio"]})]})]}),s.gapAnalysis&&e.jsx(w,{gapAnalysis:s.gapAnalysis}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(j,{className:"w-5 h-5 text-emerald-600"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Requirements Progress"})]}),e.jsx("div",{className:"space-y-3",children:s.requirements.map(t=>{const n=s.progress.find(o=>o.requirementId===t.id)?.percentComplete||0;return e.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${t.statusType==="required"?"bg-red-500":"bg-blue-500"}`}),e.jsx("span",{className:"font-medium text-slate-800 capitalize",children:t.fieldType.replace(/([A-Z])/g," $1").trim()}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${t.statusType==="required"?"bg-red-50 text-red-600":"bg-blue-50 text-blue-600"}`,children:t.statusType})]}),e.jsxs("span",{className:`font-bold ${n>=100?"text-emerald-600":n>=50?"text-blue-600":"text-slate-600"}`,children:[Math.round(n),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${n>=100?"bg-emerald-500":n>=50?"bg-blue-500":n>=20?"bg-amber-500":"bg-slate-300"}`,style:{width:`${Math.min(100,n)}%`}})})]},t.id)})})]})]})}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:"Select a plan to view details"})]})}export{A as EnrichmentPlansDashboard};
