import{r as g,d as U,p as M,b0 as _,J as G,j as t,ax as Y,ac as H,q as V,F as J,n as F,L as T,a9 as D,b7 as L}from"./index-BYXjn4hA.js";import{u as K,M as Q}from"./useAtlanAudit-BulCGahL.js";import{T as $}from"./triangle-alert-3Hm35Ind.js";import{F as X}from"./funnel-DPZwMpz0.js";import{U as Z}from"./user-plus-B8lgQ9YT.js";const ee=[{id:"orphan-assets",name:"Orphan Assets",description:"Assets without any owner assigned",severity:"critical",category:"ownership",affectedFields:["ownerUsers","ownerGroups"],designImplication:"Without ownership, there is no accountability for data quality, access requests, or issue resolution. This creates bottlenecks and delays.",recommendation:"Implement bulk owner assignment starting with critical data assets. Consider domain-based ownership where a single steward owns assets in their domain. Use automated assignment based on source system or schema patterns.",check:(o,r)=>{const e=r.find(i=>i.field==="ownerUsers");if(!e)return null;const s=(1-e.coveragePercent)*100,n=50;return s<=n?null:{detected:!0,severity:"critical",affectedCount:e.totalAssets-e.populatedAssets,percentage:s,threshold:n,details:`${s.toFixed(0)}% of assets (${(e.totalAssets-e.populatedAssets).toLocaleString()}) have no owner assigned`,trend:e.trend?{direction:e.trend.direction==="up"?"improving":e.trend.direction==="down"?"worsening":"stable",change:e.trend.changePercent}:void 0}}},{id:"owner-concentration",name:"Owner Concentration",description:"Too many assets owned by a single person",severity:"warning",category:"ownership",affectedFields:["ownerUsers"],designImplication:"Concentrated ownership creates single points of failure and bottlenecks. When that person is unavailable, no one can make decisions about the data.",recommendation:"Distribute ownership across teams. Define domain boundaries and assign domain stewards. For shared services, consider group ownership instead of individual ownership.",check:()=>null},{id:"stale-owners",name:"Stale Owners",description:"Owners who may have left the organization",severity:"info",category:"ownership",affectedFields:["ownerUsers"],designImplication:"Stale ownership leads to misdirected questions and delays. It also indicates the metadata is not being actively maintained.",recommendation:"Implement periodic owner validation workflows. Integrate with HR systems to automatically flag departed employees. Establish ownership succession plans.",check:()=>null},{id:"description-desert",name:"Description Desert",description:"Less than 30% of assets have descriptions",severity:"critical",category:"documentation",affectedFields:["description","userDescription"],designImplication:"Users cannot understand what data means without descriptions. This leads to incorrect assumptions, wasted time, and potential misuse of data.",recommendation:"Enable user-contributed descriptions to crowdsource documentation. Start with the top 100 most-queried assets. Consider AI-assisted description generation for tables with clear column names. Create description templates for different asset types.",check:(o,r)=>{const e=r.find(i=>i.field==="description");if(!e)return null;const s=e.coveragePercent*100,n=30;return s>=n?null:{detected:!0,severity:"critical",affectedCount:e.totalAssets-e.populatedAssets,percentage:100-s,threshold:100-n,details:`Only ${s.toFixed(0)}% of assets (${e.populatedAssets.toLocaleString()} of ${e.totalAssets.toLocaleString()}) have descriptions`,trend:e.trend?{direction:e.trend.direction==="up"?"improving":e.trend.direction==="down"?"worsening":"stable",change:e.trend.changePercent}:void 0}}},{id:"description-decay",name:"Description Decay",description:"Descriptions may be outdated",severity:"info",category:"documentation",affectedFields:["description","userDescription"],designImplication:"Outdated descriptions are worse than no descriptions - they actively mislead users and create wrong assumptions about data meaning.",recommendation:'Implement freshness indicators for descriptions. Add "last verified" dates. Create periodic review workflows for critical asset descriptions. Encourage users to flag outdated content.',check:()=>null},{id:"classification-chaos",name:"Classification Chaos",description:"Less than 20% of assets are classified with tags",severity:"warning",category:"classification",affectedFields:["atlanTags"],designImplication:"Without classification, compliance is impossible. You cannot enforce data policies, identify sensitive data, or meet regulatory requirements like GDPR or HIPAA.",recommendation:"Define classification taxonomy first (PII, confidential, public, etc.). Use auto-classification rules for PII detection based on column names. Prioritize columns in customer-facing databases. Start with data security classifications before moving to business classifications.",check:(o,r)=>{const e=r.find(i=>i.field==="atlanTags");if(!e)return null;const s=e.coveragePercent*100,n=20;return s>=n?null:{detected:!0,severity:"warning",affectedCount:e.totalAssets-e.populatedAssets,percentage:100-s,threshold:100-n,details:`Only ${s.toFixed(0)}% of assets (${e.populatedAssets.toLocaleString()} of ${e.totalAssets.toLocaleString()}) are classified`,trend:e.trend?{direction:e.trend.direction==="up"?"improving":e.trend.direction==="down"?"worsening":"stable",change:e.trend.changePercent}:void 0}}},{id:"tag-explosion",name:"Tag Explosion",description:"Too many tags with low usage",severity:"warning",category:"classification",affectedFields:["atlanTags"],designImplication:"Tag proliferation defeats the purpose of classification. Users cannot find data when there are hundreds of inconsistent tags with overlapping meanings.",recommendation:"Audit and consolidate your tag taxonomy. Merge synonymous tags. Archive unused tags. Establish governance for new tag creation. Document tag definitions and usage guidelines.",check:()=>null},{id:"pii-ungoverned",name:"Ungoverned PII",description:"Columns likely containing PII are not tagged",severity:"critical",category:"classification",affectedFields:["atlanTags"],designImplication:"Untagged PII is a compliance ticking time bomb. You cannot control access, track usage, or meet regulatory requirements for sensitive personal information.",recommendation:"Run PII detection scans on column names (email, ssn, phone, etc.) and sample data. Tag all detected PII columns immediately. Implement column-level access controls. Set up monitoring for PII access patterns.",check:()=>null},{id:"lineage-blackout",name:"Lineage Blackout",description:"Less than 40% of assets have lineage coverage",severity:"warning",category:"lineage",affectedFields:["lineage"],designImplication:"Without lineage, root cause analysis is impossible. When a data quality issue occurs, you cannot trace it back to the source. Impact analysis for changes is guesswork.",recommendation:"Verify all connectors are configured for lineage extraction. Check transformation tool integrations (dbt, Spark, Airflow). Consider manual lineage for critical dashboards. Focus on end-to-end lineage for key business metrics first.",check:(o,r)=>{const e=r.find(i=>i.field==="lineage");if(!e)return null;const s=e.coveragePercent*100,n=40;return s>=n?null:{detected:!0,severity:"warning",affectedCount:e.totalAssets-e.populatedAssets,percentage:100-s,threshold:100-n,details:`Only ${s.toFixed(0)}% of assets (${e.populatedAssets.toLocaleString()} of ${e.totalAssets.toLocaleString()}) have lineage`,trend:e.trend?{direction:e.trend.direction==="up"?"improving":e.trend.direction==="down"?"worsening":"stable",change:e.trend.changePercent}:void 0}}},{id:"dashboard-no-upstream",name:"Disconnected Dashboards",description:"Dashboards without source lineage",severity:"warning",category:"lineage",affectedFields:["lineage"],designImplication:"Dashboards without upstream lineage leave business users in the dark. They cannot understand data freshness, trust issues in source data, or identify why metrics changed.",recommendation:"Prioritize lineage for BI tools (Tableau, PowerBI, Looker). Enable dashboard-to-dataset connectors. For legacy dashboards, document lineage manually in README or links fields.",check:o=>{const r=o.assetBreakdown.find(i=>i.assetType.toLowerCase().includes("dashboard")||i.assetType.toLowerCase().includes("report"));if(!r)return null;const e=o.fieldCoverage.find(i=>i.field==="lineage");if(!e)return null;const s=e.coveragePercent*100,n=50;return s>=n?null:{detected:!0,severity:"warning",affectedCount:Math.round(r.count*(1-e.coveragePercent)),percentage:100-s,threshold:100-n,details:`Approximately ${Math.round(r.count*(1-e.coveragePercent))} dashboards may lack upstream lineage`}}},{id:"glossary-ghost-town",name:"Glossary Ghost Town",description:"Less than 10% of assets linked to glossary terms",severity:"info",category:"glossary",affectedFields:["glossaryTerms"],designImplication:"Without glossary links, business terminology is not standardized. Different teams use different names for the same concept, leading to confusion and duplicate work.",recommendation:"Start with KPI definitions - these have highest business impact. Build glossary incrementally around actual user questions. Link terms to assets as you create them. Use term propagation to auto-link related assets.",check:(o,r)=>{const e=r.find(i=>i.field==="glossaryTerms");if(!e)return null;const s=e.coveragePercent*100,n=10;return s>=n?null:{detected:!0,severity:"info",affectedCount:e.totalAssets-e.populatedAssets,percentage:100-s,threshold:100-n,details:`Only ${s.toFixed(0)}% of assets (${e.populatedAssets.toLocaleString()} of ${e.totalAssets.toLocaleString()}) are linked to glossary terms`,trend:e.trend?{direction:e.trend.direction==="up"?"improving":e.trend.direction==="down"?"worsening":"stable",change:e.trend.changePercent}:void 0}}},{id:"orphan-terms",name:"Orphan Terms",description:"Glossary terms with no linked assets",severity:"info",category:"glossary",affectedFields:["glossaryTerms"],designImplication:"Unlinked glossary terms provide no value. They exist in isolation and users cannot discover related data assets. This indicates the glossary is aspirational rather than practical.",recommendation:"Review and link or archive unlinked terms. When creating new terms, immediately link them to relevant assets. Consider term usage reports to identify terms that need attention.",check:()=>null},{id:"no-domains",name:"No Domain Structure",description:"No domain organization defined",severity:"info",category:"structure",designImplication:"Without domains, you cannot organize ownership, delegate governance, or create bounded contexts. Everything becomes a flat, unmanageable list.",recommendation:"Define domain boundaries based on business capabilities or data sources. Assign domain stewards. Use domains to scope permissions and workflows. Start with 3-7 high-level domains.",check:()=>null},{id:"unbalanced-domains",name:"Unbalanced Domains",description:"Some domains are 10x larger than others",severity:"info",category:"structure",designImplication:"Imbalanced domains indicate poor domain boundaries. Large domains become unmanageable bottlenecks while small domains waste governance overhead.",recommendation:"Review domain definitions. Split large domains by sub-capability or system. Merge small domains that share ownership. Aim for relatively balanced sizes to distribute governance work.",check:o=>{const r=o.assetBreakdown;if(r.length<2)return null;const e=r.map(c=>c.count).sort((c,f)=>f-c),s=e[0],n=e[e.length-1],i=s/n,l=10;return i<l?null:{detected:!0,severity:"info",affectedCount:r.length,percentage:i,threshold:l,details:`Asset distribution is highly imbalanced - largest category has ${i.toFixed(1)}x more assets than smallest`}}}];function te(o,r){const e=[];for(const s of ee){const n=s.check(o,r);n&&e.push({pattern:s,result:n})}return e.sort((s,n)=>{const i={critical:0,warning:1,info:2},l=i[s.pattern.severity]-i[n.pattern.severity];return l!==0?l:n.result.affectedCount-s.result.affectedCount})}function S(o,r){return o.filter(e=>e.pattern.severity===r)}function p(o,r){return o.filter(e=>e.pattern.category===r)}function se(o){let r=0;for(const{pattern:n,result:i}of o){const l=n.severity==="critical"?30:n.severity==="warning"?15:5,c=i.percentage/100*l;r+=c}r=Math.min(100,r);let e,s;return r>=75?(e="critical",s="Critical governance issues detected. Immediate action required."):r>=50?(e="high",s="Significant governance gaps. Prioritize remediation."):r>=25?(e="medium",s="Moderate governance issues. Address systematically."):(e="low",s="Minor governance issues. Monitor and improve gradually."),{score:Math.round(r),level:e,summary:s}}function ne(o){const r={total:o.length,bySeverity:{critical:0,warning:0,info:0},byCategory:{ownership:0,documentation:0,classification:0,lineage:0,glossary:0,structure:0},totalAffectedAssets:0};for(const{pattern:e,result:s}of o)r.bySeverity[e.severity]++,r.byCategory[e.category]++,r.totalAffectedAssets+=s.affectedCount;return r}function ae(o,r,e={}){return g.useMemo(()=>{if(!o)return{allPatterns:[],patterns:[],critical:[],warnings:[],info:[],ownership:[],documentation:[],classification:[],lineage:[],glossary:[],structure:[],risk:{score:0,level:"low",summary:"No audit data available"},stats:{total:0,bySeverity:{critical:0,warning:0,info:0},byCategory:{ownership:0,documentation:0,classification:0,lineage:0,glossary:0,structure:0},totalAffectedAssets:0},hasCriticalIssues:!1,hasWarnings:!1,isEmpty:!0};const s=te(o,r);let n=[...s];e.severityFilter&&e.severityFilter.length>0&&(n=n.filter(d=>e.severityFilter.includes(d.pattern.severity))),e.categoryFilter&&e.categoryFilter.length>0&&(n=n.filter(d=>e.categoryFilter.includes(d.pattern.category))),e.minAffectedAssets!==void 0&&e.minAffectedAssets>0&&(n=n.filter(d=>d.result.affectedCount>=e.minAffectedAssets));const i=S(s,"critical"),l=S(s,"warning"),c=S(s,"info"),f=p(s,"ownership"),C=p(s,"documentation"),I=p(s,"classification"),w=p(s,"lineage"),h=p(s,"glossary"),j=p(s,"structure"),k=se(s),N=ne(s);return{allPatterns:s,patterns:n,critical:i,warnings:l,info:c,ownership:f,documentation:C,classification:I,lineage:w,glossary:h,structure:j,risk:k,stats:N,hasCriticalIssues:i.length>0,hasWarnings:l.length>0,isEmpty:s.length===0}},[o,r,e.severityFilter,e.categoryFilter,e.minAffectedAssets])}const z=U()(M((o,r)=>({evidenceItems:[],addEvidence:e=>{o(s=>({evidenceItems:[...s.evidenceItems,e]}))},updateEvidence:(e,s)=>{o(n=>({evidenceItems:n.evidenceItems.map(i=>i.id===e?{...i,...s}:i)}))},removeEvidence:e=>{o(s=>({evidenceItems:s.evidenceItems.filter(n=>n.id!==e)}))},linkEvidenceToPlan:(e,s)=>{o(n=>({evidenceItems:n.evidenceItems.map(i=>i.id===e?{...i,planId:s}:i)}))},getEvidenceByPlan:e=>{const{evidenceItems:s}=r();return s.filter(n=>n.planId===e)},getEvidenceByAsset:e=>{const{evidenceItems:s}=r();return s.filter(n=>n.relatedAsset===e)}}),{name:"evidence-store",version:1})),O=U()(M((o,r)=>({stakeholders:[],assignments:[],addStakeholder:e=>{o(s=>({stakeholders:[...s.stakeholders,e]}))},updateStakeholder:(e,s)=>{o(n=>({stakeholders:n.stakeholders.map(i=>i.id===e?{...i,...s}:i)}))},removeStakeholder:e=>{o(s=>({stakeholders:s.stakeholders.filter(n=>n.id!==e),assignments:s.assignments.filter(n=>n.stakeholderId!==e)}))},assignStakeholderToPlan:(e,s,n)=>{o(i=>({stakeholders:i.stakeholders.map(l=>l.id===e?{...l,planId:s,role:n,assignedAt:new Date().toISOString()}:l)}))},updateStakeholderStatus:(e,s)=>{o(n=>({stakeholders:n.stakeholders.map(i=>i.id===e?{...i,status:s,respondedAt:new Date().toISOString()}:i)}))},createAssignment:e=>{o(s=>({assignments:[...s.assignments,e]}))},updateAssignmentStatus:(e,s,n)=>{o(i=>({assignments:i.assignments.map(l=>l.stakeholderId===e&&l.planId===s?{...l,status:n}:l)}))},getStakeholdersByPlan:e=>{const{stakeholders:s}=r();return s.filter(n=>n.planId===e)},getStakeholdersByRole:(e,s)=>{const{stakeholders:n}=r();return n.filter(i=>i.planId===e&&i.role===s)},getAssignmentsByPlan:e=>{const{assignments:s}=r();return s.filter(n=>n.planId===e)}}),{name:"stakeholder-store",version:1})),R={critical:"text-red-700 bg-red-50 border-red-200",warning:"text-amber-700 bg-amber-50 border-amber-200",info:"text-sky-700 bg-sky-50 border-sky-200"};function ce(){const o=_(),{audit:r,fieldCoverage:e,isConnected:s}=K(),n=ae(r,e),i=z(a=>a.evidenceItems),l=z(a=>a.addEvidence),c=O(a=>a.stakeholders),f=O(a=>a.addStakeholder),{plans:C,getPlan:I,setActivePlanId:w}=G(),[h,j]=g.useState(null),[k,N]=g.useState(null),[d,B]=g.useState([]),x=o.state?.planId,m=x?I(x):null;g.useEffect(()=>{x&&w(x)},[x,w]);const u=g.useMemo(()=>n.patterns.map(a=>({id:a.pattern.id,title:a.pattern.name,severity:a.pattern.severity,status:"open",owner:"system",asset:void 0,summary:a.pattern.description,affectedCount:a.result.affectedCount})),[n.patterns]);g.useEffect(()=>{!h&&u.length>0&&j(u[0].id)},[u,h]);const A=g.useMemo(()=>d.length===0?u:u.filter(a=>d.includes(a.severity)),[u,d]),P=h?A.find(a=>a.id===h):A[0],v=k?i.find(a=>a.id===k):i[0],E=()=>{const a={id:L(),title:`Evidence item ${i.length+1}`,type:"note",source:"Manual entry",createdAt:new Date().toISOString(),owner:"current-user"};l(a),N(a.id)},q=()=>{const a={id:L(),name:"New Stakeholder",email:"stakeholder@company.com",role:"Reviewer",status:"pending"};f(a)},b=m?{total:m.requirements.length,completed:m.progress.filter(a=>a.percentComplete>=100).length,overallPercent:m.progress.length>0?Math.round(m.progress.reduce((a,y)=>a+y.percentComplete,0)/m.progress.length):0}:null;return t.jsxs("div",{className:"h-full flex flex-col bg-slate-50",children:[m&&b&&t.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-200 px-8 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:t.jsx(Y,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-blue-600",children:"Active Plan"}),t.jsx("p",{className:"text-lg font-bold text-slate-900",children:m.name})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-slate-500",children:"Requirements"}),t.jsxs("p",{className:"text-sm font-bold text-slate-800",children:[b.completed," / ",b.total," complete"]})]}),t.jsxs("div",{className:"w-32",children:[t.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[t.jsx("span",{className:"text-slate-500",children:"Progress"}),t.jsxs("span",{className:"font-bold text-blue-600",children:[b.overallPercent,"%"]})]}),t.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2",children:t.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all",style:{width:`${b.overallPercent}%`}})})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600",children:[t.jsx(H,{className:"w-4 h-4"}),t.jsxs("span",{children:["Target: ",new Date(m.targetDate).toLocaleDateString()]})]})]})]})}),t.jsxs("div",{className:"flex items-center justify-between px-8 py-6 border-b border-slate-200 bg-white",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Governance Workbench"}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Audit & Evidence"}),t.jsx("p",{className:"text-sm text-slate-600",children:"Review issues, attach evidence, and loop in stakeholders."})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{className:"px-3 py-2 text-sm font-semibold bg-blue-600 text-white rounded-md shadow-sm hover:bg-blue-700 flex items-center gap-2",onClick:()=>alert(`Submit ${u.length} reviews for approval`),children:[t.jsx(V,{size:16})," Submit for review"]}),t.jsxs("button",{className:"px-3 py-2 text-sm font-semibold bg-white text-slate-700 rounded-md border border-slate-200 hover:bg-slate-50 flex items-center gap-2",onClick:()=>alert(`Export ${u.length} reviews + ${i.length} evidence items`),children:[t.jsx(J,{size:16})," Export summary"]})]})]}),t.jsxs("div",{className:"flex-1 grid grid-cols-1 xl:grid-cols-[1.1fr_1fr_0.9fr] gap-6 p-6 overflow-y-auto",children:[t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx($,{className:"text-red-500",size:18}),t.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Audit Reviews"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600",children:[t.jsx(X,{size:14}),["critical","warning","info"].map(a=>t.jsx("button",{onClick:()=>B(y=>y.includes(a)?y.filter(W=>W!==a):[...y,a]),className:`px-2 py-1 rounded-full border text-[11px] font-semibold capitalize transition-colors ${d.includes(a)?R[a]:"text-slate-500 bg-slate-50 border-slate-200 hover:text-slate-700"}`,children:a},a))]})]}),t.jsx("div",{className:"divide-y divide-slate-200 overflow-y-auto",children:!s&&u.length===0?t.jsxs("div",{className:"p-8 text-center text-sm text-slate-500",children:[t.jsx($,{size:32,className:"mx-auto mb-2 text-slate-300"}),t.jsx("p",{children:"Connect to Atlan to detect governance issues."})]}):A.length===0?t.jsxs("div",{className:"p-8 text-center text-sm text-slate-500",children:[t.jsx(F,{size:32,className:"mx-auto mb-2 text-emerald-300"}),t.jsx("p",{children:"No issues found matching your filters!"})]}):A.map(a=>t.jsx("button",{onClick:()=>j(a.id),className:`w-full text-left px-4 py-3 transition-colors ${P?.id===a.id?"bg-blue-50":"hover:bg-slate-50"}`,children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`px-2 py-0.5 rounded-full text-[11px] font-bold border ${R[a.severity]}`,children:a.severity}),t.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:a.status})]}),t.jsx("p",{className:"font-semibold text-slate-900",children:a.title}),t.jsx("p",{className:"text-xs text-slate-500 mt-1 line-clamp-2",children:a.summary}),a.asset&&t.jsxs("p",{className:"text-[11px] text-slate-500 mt-2 flex items-center gap-1",children:[t.jsx(T,{size:12})," ",a.asset]})]}),t.jsxs("div",{className:"text-right text-[11px] text-slate-500",children:["Owner",t.jsx("br",{}),t.jsx("span",{className:"font-semibold text-slate-800",children:a.owner})]})]})},a.id))})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(D,{className:"text-blue-500",size:18}),t.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Evidence Browser"})]}),t.jsxs("button",{className:"px-2 py-1 text-xs font-semibold text-blue-600 rounded-md hover:bg-blue-50 flex items-center gap-1",onClick:E,children:[t.jsx(F,{size:14})," Add evidence"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto divide-y divide-slate-200",children:i.length===0?t.jsxs("div",{className:"p-8 text-center text-sm text-slate-500",children:[t.jsx("p",{children:"No evidence attached yet."}),t.jsx("button",{onClick:E,className:"mt-2 text-blue-600 hover:underline",children:"Add your first evidence item"})]}):i.map(a=>t.jsx("button",{onClick:()=>N(a.id),className:`w-full text-left px-4 py-3 transition-colors ${v?.id===a.id?"bg-indigo-50":"hover:bg-slate-50"}`,children:t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 text-[11px] text-slate-500 mb-1",children:[t.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 text-slate-700 border border-slate-200 capitalize",children:a.type}),t.jsx("span",{children:new Date(a.createdAt).toLocaleString()})]}),t.jsx("p",{className:"font-semibold text-slate-900",children:a.title}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Source: ",a.source]}),a.relatedAsset&&t.jsxs("p",{className:"text-[11px] text-slate-500 mt-1 flex items-center gap-1",children:[t.jsx(T,{size:12})," ",a.relatedAsset]})]}),t.jsxs("div",{className:"text-right text-[11px] text-slate-500",children:["Owner",t.jsx("br",{}),t.jsx("span",{className:"font-semibold text-slate-800",children:a.owner})]})]})},a.id))}),v&&t.jsxs("div",{className:"border-t border-slate-200 p-4 bg-slate-50",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Preview"}),t.jsx("p",{className:"font-semibold text-slate-900",children:v.title}),t.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["Linked to: ",P?.title||"Unassigned"," â€¢ Owner: ",v.owner]}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 text-sm text-blue-600",children:[t.jsx("a",{className:"hover:underline",href:v.url||"#",children:"Open source"}),t.jsxs("button",{className:"flex items-center gap-1 hover:underline",onClick:()=>alert("Link to review (placeholder)"),children:[t.jsx(D,{size:14})," Link to review"]})]})]})]}),t.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Z,{className:"text-emerald-600",size:18}),t.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Stakeholders"})]}),t.jsxs("button",{className:"px-2 py-1 text-xs font-semibold text-emerald-700 rounded-md hover:bg-emerald-50 flex items-center gap-1",onClick:q,children:[t.jsx(Q,{size:14})," Add stakeholder"]})]}),t.jsx("div",{className:"divide-y divide-slate-200",children:c.map(a=>t.jsxs("div",{className:"px-4 py-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-900",children:a.name}),t.jsx("p",{className:"text-xs text-slate-500",children:a.email})]}),t.jsx("span",{className:`px-2 py-0.5 text-[11px] font-bold uppercase rounded-full border ${a.status==="approved"?"bg-emerald-50 text-emerald-700 border-emerald-200":a.status==="reviewing"?"bg-amber-50 text-amber-700 border-amber-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:a.status})]}),t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-600",children:[t.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded-full border border-slate-200",children:a.role}),t.jsx("button",{className:"text-blue-600 hover:underline",onClick:()=>alert("Assign task (placeholder)"),children:"Assign task"})]})]},a.id))})]})]})]})}export{ce as WorkbenchPage};
