import{c as le,r as S,j as e,ac as W,U as G,ax as E,ay as re,n as q,aZ as z,at as ne,m as de,X as Q,a6 as H,aj as ce,av as X,aQ as U,b5 as V,a5 as O,b6 as oe,G as I,q as me,ab as ue,O as xe,o as he,$ as pe,D as $,z as be,y as fe,J as K}from"./index-BYXjn4hA.js";import{u as k}from"./assistantStore-DxB0jf2q.js";import{u as Y}from"./modelStore-DuNXWet2.js";import{u as ge,r as je,M as _,V as Z,Q as T,g as Ne,a as ye,P as ve,C as we,c as Se}from"./CustomMetadataDesigner-CWAGk0d7.js";import{P as Ce}from"./plus-Db2s5bXk.js";import{P as se}from"./canvas-templates-8GMpXtWl.js";import{C as Ae}from"./circle-x-DGeOmOLa.js";import{C as Re}from"./columns-2-TlRY8h_0.js";import{T as ke}from"./table-BnVMzowL.js";import{T as J}from"./triangle-alert-3Hm35Ind.js";const Te=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ee=le("file-check",Te);function Pe(n,t){const u=n/15*100,x=t/20*100,b=u>=60,j=x>=60;return b&&j?"Quick Win":b&&!j?"Big Bet":!b&&j?"Game Changer":"Backlog"}function Me(n){const{classification:t,valueScore:l,viabilityScore:r,domain:u}=n;return{"Quick Win":`${u} has strong business value (${l}/15) and high implementation viability (${r}/20). Perfect pilot candidate - start here.`,"Big Bet":`${u} offers significant value (${l}/15) but faces implementation challenges (${r}/20). Consider after building momentum with quick wins.`,"Game Changer":`${u} is highly viable (${r}/20) but lower immediate value (${l}/15). Good for building capability and confidence.`,Backlog:`${u} has lower value (${l}/15) and viability (${r}/20). Defer until higher-priority domains are complete.`}[t]}function De(n){const t=n.businessImpact+n.userReach+n.regulatoryPressure,l=n.leadershipSponsorship+n.smeAvailability+n.existingDocumentation+n.toolingReadiness,r=Pe(t,l),u={domain:n.domain,businessImpact:n.businessImpact,userReach:n.userReach,regulatoryPressure:n.regulatoryPressure,valueScore:t,leadershipSponsorship:n.leadershipSponsorship,smeAvailability:n.smeAvailability,existingDocumentation:n.existingDocumentation,toolingReadiness:n.toolingReadiness,viabilityScore:l,classification:r,rationale:""};return u.rationale=Me(u),u}function _e(n){const l=n.map(De).sort((u,x)=>u.classification==="Quick Win"&&x.classification!=="Quick Win"?-1:u.classification!=="Quick Win"&&x.classification==="Quick Win"?1:x.valueScore+x.viabilityScore-(u.valueScore+u.viabilityScore)),r=l[0];return{domains:l,recommendedPilot:r.domain,recommendation:`Start with **${r.domain}** (${r.classification}): ${r.rationale}`}}function Ie(){const{updateWizardProfile:n}=k(),[t,l]=S.useState([{name:"Finance",businessImpact:3,userReach:3,regulatoryPressure:3,leadershipSponsorship:3,smeAvailability:3,existingDocumentation:3,toolingReadiness:3}]),[r,u]=S.useState(null),x=()=>{l([...t,{name:"",businessImpact:3,userReach:3,regulatoryPressure:3,leadershipSponsorship:3,smeAvailability:3,existingDocumentation:3,toolingReadiness:3}])},b=()=>{const d=t.filter(c=>c.name.trim()!=="");if(d.length===0)return;const o=_e(d.map(c=>({domain:c.name,businessImpact:c.businessImpact,userReach:c.userReach,regulatoryPressure:c.regulatoryPressure,leadershipSponsorship:c.leadershipSponsorship,smeAvailability:c.smeAvailability,existingDocumentation:c.existingDocumentation,toolingReadiness:c.toolingReadiness})));u(o),n({domains:[o.recommendedPilot]})},j=d=>({"Quick Win":"bg-emerald-100 text-emerald-700 border-emerald-300","Big Bet":"bg-amber-100 text-amber-700 border-amber-300","Game Changer":"bg-blue-100 text-blue-700 border-blue-300",Backlog:"bg-slate-100 text-slate-700 border-slate-300"})[d];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Strategy Scout: Where to Start?"}),e.jsx("p",{className:"text-slate-600",children:'Avoid "boiling the ocean" – use the Value vs Viability Matrix to find your ideal pilot domain.'})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Scoring Guide (0-5 scale)"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900 mb-1",children:"Value Dimensions"}),e.jsxs("ul",{className:"space-y-1 text-blue-800",children:[e.jsxs("li",{children:[e.jsx(W,{className:"inline w-4 h-4 mr-1"}),"Business Impact: Revenue/cost/risk reduction"]}),e.jsxs("li",{children:[e.jsx(G,{className:"inline w-4 h-4 mr-1"}),"User Reach: How many people benefit?"]}),e.jsxs("li",{children:[e.jsx(ee,{className:"inline w-4 h-4 mr-1"}),"Regulatory Pressure: Audit/compliance needs"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-900 mb-1",children:"Viability Dimensions"}),e.jsxs("ul",{className:"space-y-1 text-blue-800",children:[e.jsxs("li",{children:[e.jsx(E,{className:"inline w-4 h-4 mr-1"}),"Leadership Sponsorship: Executive support"]}),e.jsxs("li",{children:[e.jsx(G,{className:"inline w-4 h-4 mr-1"}),"SME Availability: Steward time & knowledge"]}),e.jsxs("li",{children:[e.jsx(ee,{className:"inline w-4 h-4 mr-1"}),"Existing Documentation: Current metadata state"]}),e.jsxs("li",{children:[e.jsx(re,{className:"inline w-4 h-4 mr-1"}),"Tooling Readiness: Connectors & lineage working"]})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[t.map((d,o)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Domain Name"}),e.jsx("input",{type:"text",value:d.name,onChange:c=>{const s=[...t];s[o].name=c.target.value,l(s)},className:"w-full px-3 py-2 border border-slate-300 rounded-lg text-slate-900",placeholder:"e.g., Finance, Marketing, Sales"})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Business Impact"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.businessImpact,onChange:c=>{const s=[...t];s[o].businessImpact=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.businessImpact})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"User Reach"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.userReach,onChange:c=>{const s=[...t];s[o].userReach=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.userReach})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Regulatory Pressure"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.regulatoryPressure,onChange:c=>{const s=[...t];s[o].regulatoryPressure=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.regulatoryPressure})]}),e.jsxs("div",{className:"border-l border-slate-200 pl-4",children:[e.jsx("div",{className:"text-xs font-semibold text-blue-700 mb-1",children:"Value Score"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[d.businessImpact+d.userReach+d.regulatoryPressure,e.jsx("span",{className:"text-sm text-slate-500",children:"/15"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-5 gap-4 mt-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Leadership"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.leadershipSponsorship,onChange:c=>{const s=[...t];s[o].leadershipSponsorship=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.leadershipSponsorship})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"SME Availability"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.smeAvailability,onChange:c=>{const s=[...t];s[o].smeAvailability=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.smeAvailability})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Documentation"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.existingDocumentation,onChange:c=>{const s=[...t];s[o].existingDocumentation=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.existingDocumentation})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Tooling"}),e.jsx("input",{type:"range",min:"0",max:"5",value:d.toolingReadiness,onChange:c=>{const s=[...t];s[o].toolingReadiness=Number(c.target.value),l(s)},className:"w-full"}),e.jsx("div",{className:"text-center text-sm font-semibold text-slate-900",children:d.toolingReadiness})]}),e.jsxs("div",{className:"border-l border-slate-200 pl-4",children:[e.jsx("div",{className:"text-xs font-semibold text-emerald-700 mb-1",children:"Viability Score"}),e.jsxs("div",{className:"text-2xl font-bold text-emerald-700",children:[d.leadershipSponsorship+d.smeAvailability+d.existingDocumentation+d.toolingReadiness,e.jsx("span",{className:"text-sm text-slate-500",children:"/20"})]})]})]})]},o)),e.jsx("button",{onClick:x,className:"w-full py-2 border-2 border-dashed border-slate-300 rounded-lg text-slate-600 hover:border-slate-400 hover:text-slate-700",children:"+ Add Another Domain"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:b,className:"px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700",children:"Analyze Domains →"})}),r&&e.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Analysis Results"}),e.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"w-6 h-6 text-emerald-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-emerald-900 mb-1",children:"Recommended Pilot"}),e.jsx("p",{className:"text-emerald-800",children:r.recommendation})]})]})}),e.jsx("div",{className:"grid gap-3",children:r.domains.map(d=>e.jsxs("div",{className:`border rounded-lg p-3 ${j(d.classification)}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold",children:d.domain}),e.jsx("div",{className:"px-2 py-1 bg-white/50 rounded text-sm font-medium",children:d.classification})]}),e.jsx("div",{className:"text-sm opacity-90",children:d.rationale}),e.jsxs("div",{className:"mt-2 flex gap-4 text-xs",children:[e.jsxs("span",{children:["Value: ",d.valueScore,"/15"]}),e.jsxs("span",{children:["Viability: ",d.viabilityScore,"/20"]})]})]},d.domain))})]})]})}const qe=["Financial Services","Healthcare","Manufacturing/HVAC","Retail/E-commerce","Technology","Telecommunications","Media/Entertainment","Other"],Ee=["Data Discovery","Trusted Metrics","Compliance","Root Cause Analysis","Impact Analysis","Metrics Catalog","Data Compliance","Cost Optimization","Lifecycle Management","Data Products"],Le=["Snowflake","Tableau","PowerBI","dbt","Looker","Databricks","BigQuery","Redshift","Postgres","MySQL","Sigma","Mode","Airflow"];function Fe(){const{wizardState:n,updateWizardProfile:t}=k(),{profile:l}=n,[r,u]=S.useState([]),[x,b]=S.useState(!1),[j,d]=S.useState(""),[o,c]=S.useState(!1);S.useEffect(()=>{(async()=>{b(!0);try{const f=await z();u(f)}catch(f){console.error("Failed to fetch domains from Atlan",f)}finally{b(!1)}})()},[]),S.useEffect(()=>{const a=setTimeout(async()=>{if(j.length>1){b(!0);try{const f=await z(j);u(f)}catch(f){console.error("Failed to search domains",f)}finally{b(!1)}}else if(j.length===0){const f=await z();u(f)}},500);return()=>clearTimeout(a)},[j]);const s=a=>{const f=l.useCases||[],C=f.includes(a)?f.filter(R=>R!==a):[...f,a];t({useCases:C})},N=a=>{const f=l.connectors||[],C=f.includes(a)?f.filter(R=>R!==a):[...f,a];t({connectors:C})},h=(a,f)=>{const C=l.domains||[],R=l.domainGuids||[];if(!C.includes(a)){const A={domains:[...C,a]};f&&(A.domainGuids=[...R,f]),t(A)}},g=a=>{const f=l.domains||[],C=l.domainGuids||[],R=f.indexOf(a);t({domains:f.filter(A=>A!==a),domainGuids:C.filter((A,M)=>M!==R)})};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Tell us about your organization"}),e.jsx("p",{className:"text-slate-600",children:"We'll use this information to recommend user stories and metadata model templates from similar customers."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Project Name"}),e.jsx("input",{type:"text",placeholder:"e.g., Enterprise Data Mesh 2026",value:l.projectName||"",onChange:a=>t({projectName:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Industry / Vertical"}),e.jsxs("select",{value:l.industry||"",onChange:a=>t({industry:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select an industry..."}),qe.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Business Domains"}),x&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[e.jsx(ne,{className:"w-3 h-3 animate-spin"}),"Fetching from Atlan..."]})]}),e.jsxs("div",{className:"space-y-3 relative",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[38px] p-2 border border-slate-300 rounded-md bg-white",children:[(l.domains||[]).map(a=>e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:[a,e.jsxs("button",{type:"button",onClick:()=>g(a),className:"ml-1.5 inline-flex items-center justify-center w-4 h-4 rounded-full text-blue-400 hover:bg-blue-200 hover:text-blue-600 focus:outline-none",children:[e.jsxs("span",{className:"sr-only",children:["Remove ",a]}),"×"]})]},a)),e.jsx("input",{type:"text",value:j,onChange:a=>{d(a.target.value),c(!0)},onFocus:()=>c(!0),onBlur:()=>setTimeout(()=>c(!1),200),placeholder:l.domains?.length?"":"Type to search or add domain...",className:"flex-1 min-w-[120px] border-none focus:ring-0 p-0 text-sm",onKeyDown:a=>{if(a.key==="Enter"){a.preventDefault();const f=j.trim();if(f){const C=r.find(R=>R.name.toLowerCase()===f.toLowerCase());h(C?.name||f,C?.guid),d(""),c(!1)}}}})]}),o&&r.length>0&&e.jsxs("div",{className:"absolute z-10 w-full max-w-md bg-white shadow-lg rounded-md border border-slate-200 max-h-60 overflow-y-auto mt-1",children:[e.jsxs("div",{className:"p-2 text-xs font-semibold text-slate-500 bg-slate-50 border-b border-slate-100 flex items-center gap-2 sticky top-0",children:[e.jsx(de,{className:"w-3 h-3"}),"Available in Atlan"]}),r.filter(a=>!l.domains?.includes(a.name)).map(a=>e.jsxs("button",{onMouseDown:f=>{f.preventDefault(),h(a.name,a.guid),d(""),c(!1)},className:"w-full text-left px-4 py-2 text-sm hover:bg-blue-50 hover:text-blue-700 flex items-center justify-between group",children:[e.jsx("span",{children:a.name}),e.jsx("span",{className:"text-xs text-slate-400 group-hover:text-blue-400",children:"Add +"})]},a.guid)),r.filter(a=>!l.domains?.includes(a.name)).length===0&&e.jsx("div",{className:"p-4 text-center text-sm text-slate-500",children:"No matching domains found. Press Enter to create new."})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Search for existing domains in Atlan or type a new name to define your scope."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Primary Use Cases (select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ee.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-slate-200 rounded-md cursor-pointer hover:bg-slate-50",children:[e.jsx("input",{type:"checkbox",checked:l.useCases?.includes(a)||!1,onChange:()=>s(a),className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Data Stack / Connectors (select all that apply)"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Le.map(a=>e.jsxs("label",{className:"flex items-center space-x-2 p-3 border border-slate-200 rounded-md cursor-pointer hover:bg-slate-50",children:[e.jsx("input",{type:"checkbox",checked:l.connectors?.includes(a)||!1,onChange:()=>N(a),className:"rounded text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-slate-700",children:a})]},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Team Size"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"small",label:"Small (1-10)",desc:"Centralized team"},{value:"medium",label:"Medium (10-50)",desc:"Starting to scale"},{value:"large",label:"Large (50+)",desc:"Federated teams"}].map(a=>e.jsxs("label",{className:`flex flex-col p-4 border-2 rounded-md cursor-pointer hover:bg-slate-50 ${l.teamSize===a.value?"border-blue-500 bg-blue-50":"border-slate-200"}`,children:[e.jsx("input",{type:"radio",name:"teamSize",value:a.value,checked:l.teamSize===a.value,onChange:f=>t({teamSize:f.target.value}),className:"sr-only"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:a.label}),e.jsx("span",{className:"text-xs text-slate-500 mt-1",children:a.desc})]},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Governance Maturity"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"starting",label:"Just Starting",desc:"Little to no metadata"},{value:"scaling",label:"Scaling Up",desc:"Some metadata, need consistency"},{value:"optimizing",label:"Optimizing",desc:"Good coverage, refining"}].map(a=>e.jsxs("label",{className:`flex flex-col p-4 border-2 rounded-md cursor-pointer hover:bg-slate-50 ${l.maturity===a.value?"border-blue-500 bg-blue-50":"border-slate-200"}`,children:[e.jsx("input",{type:"radio",name:"maturity",value:a.value,checked:l.maturity===a.value,onChange:f=>t({maturity:f.target.value}),className:"sr-only"}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:a.label}),e.jsx("span",{className:"text-xs text-slate-500 mt-1",children:a.desc})]},a.value))})]})]})}function ze(){const{wizardState:n,removeUserStory:t}=k(),{selectedUserStories:l}=n;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Review Recommended User Stories"}),e.jsx("p",{className:"text-slate-600",children:"Based on your profile, we've selected user stories from customers with similar needs. Accept, edit, or remove stories as needed."})]}),e.jsx("div",{className:"space-y-3",children:l.length===0?e.jsxs("div",{className:"text-center py-12 bg-slate-50 rounded-lg border-2 border-dashed border-slate-300",children:[e.jsx("p",{className:"text-slate-600",children:"No user stories selected yet."}),e.jsxs("button",{className:"mt-4 px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700",children:[e.jsx(Ce,{className:"w-4 h-4 inline mr-1"}),"Add User Story"]})]}):l.map(r=>e.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:r.role}),r.domain&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-slate-100 text-slate-700 rounded",children:r.domain}),r.pattern&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-700 rounded",children:r.pattern})]}),e.jsx("p",{className:"text-sm text-slate-900 font-medium mb-2",children:r.textFull}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.daapDimensions.map(u=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-emerald-50 text-emerald-700 rounded",children:u},u))})]}),e.jsx("button",{onClick:()=>t(r.id),className:"ml-4 p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded",children:e.jsx(Q,{className:"w-5 h-5"})})]})},r.id))}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Tip:"})," These user stories will guide your metadata model. Each story maps to specific metadata elements and enrichment techniques."]})})]})}const Ve=[{id:"data-product",name:"Data Product",description:"Metadata for data products in a data mesh architecture",useCase:"Track SLAs, consumers, costs, and freshness for data products",schema:{name:"DataProductInfo",displayName:"Data Product Info",description:"Metadata for data product management",appliesTo:["Table","View","Dashboard","Dataset"],isRequired:!1,attributes:[{id:"sla",name:"sla",displayName:"SLA",description:"Service Level Agreement for data freshness",type:"enum",enumValues:["Real-time","Hourly","Daily","Weekly"],isRequired:!0,isMultiValued:!1,order:1},{id:"refresh-frequency",name:"refresh_frequency",displayName:"Refresh Frequency",description:"How often the data is updated",type:"enum",enumValues:["Streaming","Every 15 min","Hourly","Daily","Weekly","Monthly"],isRequired:!0,isMultiValued:!1,order:2},{id:"cost-center",name:"cost_center",displayName:"Cost Center",description:"Budget allocation for this data product",type:"string",isRequired:!1,isMultiValued:!1,order:3},{id:"consumers",name:"consumers",displayName:"Consumers",description:"Teams or users consuming this data product",type:"group",isRequired:!1,isMultiValued:!0,order:4},{id:"data-contract-url",name:"data_contract_url",displayName:"Data Contract URL",description:"Link to the data contract document",type:"url",isRequired:!1,isMultiValued:!1,order:5}]}},{id:"compliance",name:"Compliance",description:"Metadata for regulatory compliance tracking",useCase:"GDPR, CCPA, HIPAA, SOX compliance requirements",schema:{name:"ComplianceInfo",displayName:"Compliance Info",description:"Regulatory compliance metadata",appliesTo:["Table","Column","Database"],isRequired:!1,attributes:[{id:"retention-period",name:"retention_period",displayName:"Retention Period",description:"How long data must be retained",type:"enum",enumValues:["30 days","90 days","1 year","3 years","7 years","Indefinite"],isRequired:!0,isMultiValued:!1,order:1},{id:"legal-hold",name:"legal_hold",displayName:"Legal Hold",description:"Is this data under legal hold?",type:"boolean",isRequired:!1,isMultiValued:!1,defaultValue:!1,order:2},{id:"data-source-country",name:"data_source_country",displayName:"Data Source Country",description:"Country where data originates",type:"enum",enumValues:["USA","UK","EU","Canada","Australia","Other"],isRequired:!1,isMultiValued:!0,order:3},{id:"regulations",name:"regulations",displayName:"Applicable Regulations",description:"Which regulations apply to this data",type:"multiSelect",enumValues:["GDPR","CCPA","HIPAA","SOX","PCI-DSS","FERPA"],isRequired:!1,isMultiValued:!0,order:4},{id:"last-audit-date",name:"last_audit_date",displayName:"Last Audit Date",description:"Date of most recent compliance audit",type:"date",isRequired:!1,isMultiValued:!1,order:5}]}},{id:"data-quality",name:"Data Quality",description:"Metadata for data quality tracking and SLAs",useCase:"Track freshness, completeness, and quality metrics",schema:{name:"DataQualityInfo",displayName:"Data Quality Info",description:"Data quality metrics and SLAs",appliesTo:["Table","View","Column"],isRequired:!1,attributes:[{id:"freshness-sla",name:"freshness_sla",displayName:"Freshness SLA",description:"Maximum acceptable data staleness",type:"enum",enumValues:["< 1 hour","< 4 hours","< 24 hours","< 7 days"],isRequired:!1,isMultiValued:!1,order:1},{id:"completeness-threshold",name:"completeness_threshold",displayName:"Completeness Threshold",description:"Minimum acceptable % of non-null values",type:"number",isRequired:!1,isMultiValued:!1,defaultValue:95,helpText:"Enter a percentage (0-100)",order:2},{id:"dq-owner",name:"dq_owner",displayName:"DQ Owner",description:"Person responsible for data quality",type:"user",isRequired:!1,isMultiValued:!1,order:3},{id:"dq-rules",name:"dq_rules",displayName:"DQ Rules",description:"Link to data quality rules documentation",type:"url",isRequired:!1,isMultiValued:!1,order:4},{id:"known-issues",name:"known_issues",displayName:"Known Issues",description:"Document any known data quality issues",type:"string",isRequired:!1,isMultiValued:!1,order:5}]}},{id:"operational",name:"Operational",description:"Metadata for operational context and incident response",useCase:"Runbooks, on-call teams, and incident tracking",schema:{name:"OperationalInfo",displayName:"Operational Info",description:"Operational context for incident response",appliesTo:["Table","Pipeline","Dashboard"],isRequired:!1,attributes:[{id:"on-call-team",name:"on_call_team",displayName:"On-Call Team",description:"Team responsible for incidents",type:"group",isRequired:!1,isMultiValued:!1,order:1},{id:"runbook-url",name:"runbook_url",displayName:"Runbook URL",description:"Link to operational runbook",type:"url",isRequired:!1,isMultiValued:!1,order:2},{id:"slack-channel",name:"slack_channel",displayName:"Slack Channel",description:"Channel for alerts and discussion",type:"string",isRequired:!1,isMultiValued:!1,helpText:"e.g., #data-alerts",order:3},{id:"last-incident-date",name:"last_incident_date",displayName:"Last Incident Date",description:"Date of most recent incident",type:"date",isRequired:!1,isMultiValued:!1,order:4},{id:"criticality",name:"criticality",displayName:"Criticality",description:"Business criticality level",type:"enum",enumValues:["Critical","High","Medium","Low"],isRequired:!1,isMultiValued:!1,order:5}]}},{id:"business-context",name:"Business Context",description:"Metadata for business context and lineage gaps",useCase:"Fill gaps where automated lineage cannot reach",schema:{name:"BusinessContext",displayName:"Business Context",description:"Business context for understanding data",appliesTo:["Table","View","Dashboard","Report"],isRequired:!1,attributes:[{id:"business-process",name:"business_process",displayName:"Business Process",description:"Which business process does this support?",type:"enum",enumValues:["Order to Cash","Procure to Pay","Record to Report","Hire to Retire","Lead to Cash","Other"],isRequired:!1,isMultiValued:!0,order:1},{id:"upstream-system",name:"upstream_system",displayName:"Upstream System",description:"Source system(s) for this data",type:"string",isRequired:!1,isMultiValued:!0,helpText:"e.g., Salesforce, SAP, Workday",order:2},{id:"downstream-reports",name:"downstream_reports",displayName:"Downstream Reports",description:"Reports that depend on this data",type:"string",isRequired:!1,isMultiValued:!0,order:3},{id:"business-owner",name:"business_owner",displayName:"Business Owner",description:"Business stakeholder for this data",type:"user",isRequired:!1,isMultiValued:!1,order:4}]}}];function Oe(n,t){return{id:t,name:n.schema.name||"CustomMetadata",displayName:n.schema.displayName||n.name,description:n.schema.description||"",appliesTo:n.schema.appliesTo||[],attributes:(n.schema.attributes||[]).map((l,r)=>({...l,id:l.id||`attr-${r}`,order:l.order||r})),isRequired:n.schema.isRequired||!1,domains:n.schema.domains||[]}}const $e={"quick-discovery":ue,"trusted-metrics":E,"compliance-ready":me,"root-cause-analysis":I,"data-product":oe};function Be({onComplete:n,initialPattern:t,initialStep:l="questionnaire"}){const[r,u]=S.useState("existing"),[x,b]=S.useState(l),[j,d]=S.useState(0),[o,c]=S.useState({}),[s,N]=S.useState(t||null),[h,g]=S.useState(new Map),a=ge(),f=S.useMemo(()=>je(o),[o]),C=S.useMemo(()=>{const m=new Map;return _.forEach(y=>m.set(y.id,"optional")),s&&s.fields.forEach(y=>{m.set(y.field,y.requirement)}),h.forEach((y,p)=>{m.set(p,y)}),m},[s,h]),R=(m,y)=>{const p=T.find(v=>v.id===m);if(p)if(p.multiSelect){const v=o[m]||[],D=v.includes(y)?v.filter(P=>P!==y):[...v,y];c({...o,[m]:D})}else c({...o,[m]:y})},A=()=>{j<T.length-1?d(j+1):b("patterns")},M=()=>{j>0&&d(j-1)},L=m=>{N(m),b("fields")},i=(m,y)=>{const p=new Map(h);p.set(m,y),g(p)},w=()=>{n&&n({selectedPattern:s,fieldRequirements:C,answers:o})};if(r==="existing"){const m=a.fieldCoverage.filter(p=>p.populatedCount>0),y=a.fieldCoverage.length>0?Math.round(a.fieldCoverage.reduce((p,v)=>p+v.coveragePercent,0)/a.fieldCoverage.length):0;return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Field Coverage"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:["Metadata field population across ",a.totalEntities," canvas entities"]})]}),e.jsx(Z,{mode:r,onModeChange:u,existingCount:m.length,existingLabel:"Coverage",designLabel:"Plan Fields"})]}),a.totalEntities>0&&e.jsxs("div",{className:"flex gap-4 mt-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 rounded-lg",children:[e.jsx(H,{size:16,className:"text-slate-500"}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[y,"% avg coverage"]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-50 rounded-lg",children:[e.jsx(ce,{size:16,className:"text-green-600"}),e.jsxs("span",{className:"text-sm font-medium text-green-700",children:[m.length," fields populated"]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-50 rounded-lg",children:[e.jsx(Ae,{size:16,className:"text-amber-600"}),e.jsxs("span",{className:"text-sm font-medium text-amber-700",children:[a.fieldCoverage.length-m.length," fields empty"]})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.totalEntities===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(H,{size:48,className:"mx-auto text-slate-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-slate-700 mb-2",children:"No entities on canvas"}),e.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Import assets from Atlan or create entities to see field coverage"}),e.jsx("button",{onClick:()=>u("design"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Plan Field Requirements"})]}):e.jsx("div",{className:"space-y-3",children:a.fieldCoverage.map(p=>e.jsxs("div",{className:"p-4 rounded-lg border border-slate-200 hover:border-slate-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-slate-900",children:p.fieldDisplayName}),e.jsxs("span",{className:"text-xs text-slate-500",children:["(",p.fieldName,")"]})]}),e.jsxs("span",{className:`text-sm font-medium ${p.coveragePercent>=80?"text-green-600":p.coveragePercent>=50?"text-amber-600":p.coveragePercent>0?"text-orange-600":"text-slate-400"}`,children:[p.coveragePercent,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-100 rounded-full h-2 mb-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${p.coveragePercent>=80?"bg-green-500":p.coveragePercent>=50?"bg-amber-500":p.coveragePercent>0?"bg-orange-500":"bg-slate-200"}`,style:{width:`${p.coveragePercent}%`}})}),e.jsxs("div",{className:"text-xs text-slate-500",children:[p.populatedCount," of ",p.totalCount," entities have this field populated"]}),p.values.length>0&&e.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[p.values.slice(0,3).map((v,D)=>e.jsxs("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 text-xs rounded",children:[String(v.value).slice(0,20),String(v.value).length>20?"...":""]},D)),p.values.length>3&&e.jsxs("span",{className:"px-2 py-0.5 text-slate-400 text-xs",children:["+",p.values.length-3," more"]})]})]},p.fieldName))})}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-200",children:e.jsxs("button",{onClick:()=>u("design"),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(X,{size:16}),"Plan Field Requirements"]})})]})}if(x==="questionnaire"){const m=T[j],y=m.multiSelect?o[m.id]||[]:o[m.id];return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Field Requirements"}),e.jsx(Z,{mode:r,onModeChange:u,existingCount:a.fieldCoverage.filter(p=>p.populatedCount>0).length,existingLabel:"Coverage",designLabel:"Plan Fields"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:["Question ",j+1," of ",T.length]}),e.jsxs("span",{className:"text-sm text-slate-500",children:[Math.round((j+1)/T.length*100),"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${(j+1)/T.length*100}%`}})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-6",children:m.question}),e.jsx("div",{className:"space-y-3",children:m.options.map(p=>{const v=m.multiSelect?y?.includes(p.id):y===p.id;return e.jsx("button",{onClick:()=>R(m.id,p.id),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${v?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${v?"border-blue-500 bg-blue-500":"border-slate-300"}`,children:v&&e.jsx(U,{size:12,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-900",children:p.label}),e.jsx("div",{className:"text-sm text-slate-500 mt-0.5",children:p.description})]})]})},p.id)})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 flex justify-between",children:[e.jsxs("button",{onClick:M,disabled:j===0,className:"flex items-center gap-2 px-4 py-2 text-slate-600 hover:text-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(V,{size:18}),"Back"]}),e.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[j===T.length-1?"See Recommendations":"Next",e.jsx(O,{size:18})]})]})]})}return x==="patterns"?e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-1",children:[e.jsx(X,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Recommended for you"})]}),e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Choose a metadata pattern"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Based on your answers, we recommend starting with one of these patterns"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsx("div",{className:"space-y-4",children:f.map((m,y)=>{const p=$e[m.id]||E,v=Ne(m),D=ye(m);return e.jsx("button",{onClick:()=>L(m),className:`w-full p-5 rounded-xl border-2 text-left transition-all hover:shadow-md ${y===0?"border-blue-200 bg-gradient-to-br from-blue-50 to-indigo-50":"border-slate-200 hover:border-slate-300"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${y===0?"bg-blue-100":"bg-slate-100"}`,children:e.jsx(p,{size:24,className:y===0?"text-blue-600":"text-slate-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:m.name}),y===0&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:"Best Match"})]}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:m.description}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[v.slice(0,3).map(P=>e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded",children:_.find(F=>F.id===P)?.displayName},P)),D.slice(0,2).map(P=>e.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded",children:_.find(F=>F.id===P)?.displayName},P))]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xe,{size:12}),m.suggestedTimeline]}),m.prerequisites.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(he,{size:12}),m.prerequisites.length," prerequisite(s)"]})]})]}),e.jsx(O,{size:20,className:"text-slate-400 flex-shrink-0"})]})},m.id)})}),e.jsx("button",{onClick:()=>{N(null),b("fields")},className:"w-full mt-4 p-4 rounded-lg border border-dashed border-slate-300 text-slate-600 hover:bg-slate-50 text-center",children:"Skip patterns - I'll choose fields manually"})]}),e.jsx("div",{className:"px-6 py-4 border-t border-slate-200",children:e.jsxs("button",{onClick:()=>{b("questionnaire"),d(T.length-1)},className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(V,{size:18}),"Back to questions"]})})]}):e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-slate-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Configure Field Requirements"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:s?`Based on ${s.name} pattern. Adjust as needed.`:"Select which fields are required, recommended, or optional for your organization."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"space-y-3",children:_.map(m=>{const y=C.get(m.id)||"optional",p=s?.fields.find(v=>v.field===m.id);return e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 hover:border-slate-300",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-slate-900",children:m.displayName}),m.autoPopulated&&e.jsx("span",{className:"px-1.5 py-0.5 bg-slate-100 text-slate-600 text-xs rounded",children:"Auto"})]}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:m.purpose}),p?.rationale&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1 flex items-center gap-1",children:[e.jsx(pe,{size:12}),p.rationale]})]}),e.jsx("div",{className:"flex gap-1",children:["required","recommended","optional","not-applicable"].map(v=>e.jsx("button",{onClick:()=>i(m.id,v),className:`px-3 py-1.5 text-xs font-medium rounded-lg transition-colors ${y===v?v==="required"?"bg-red-100 text-red-700 ring-2 ring-red-500":v==="recommended"?"bg-amber-100 text-amber-700 ring-2 ring-amber-500":v==="optional"?"bg-slate-100 text-slate-700 ring-2 ring-slate-500":"bg-slate-50 text-slate-400 ring-2 ring-slate-300":"bg-slate-50 text-slate-500 hover:bg-slate-100"}`,children:v==="not-applicable"?"N/A":v.charAt(0).toUpperCase()+v.slice(1)},v))})]})},m.id)})})}),e.jsxs("div",{className:"px-6 py-4 border-t border-slate-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"text-sm text-slate-600",children:[e.jsx("span",{className:"font-medium text-red-600",children:Array.from(C.values()).filter(m=>m==="required").length})," ","required,"," ",e.jsx("span",{className:"font-medium text-amber-600",children:Array.from(C.values()).filter(m=>m==="recommended").length})," ","recommended"]})}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:()=>b("patterns"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900",children:[e.jsx(V,{size:18}),"Back to patterns"]}),e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:["Apply to Requirements Matrix",e.jsx(O,{size:18})]})]})]})]})}const te=[{fieldId:"lifecycle_status",fieldName:"Lifecycle Status",applicableAssets:["Database","Schema","Table","Column"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"semi-automated",dataSource:"metadata_events",frequency:"on-change",technicalPrerequisites:["event-streaming","metadata-store"]},priority:"critical",useCase:"governance"},{fieldId:"pii_classification",fieldName:"PII Classification",applicableAssets:["Column","Table"],isInheritable:!0,inheritancePattern:"blocking",enrichmentStrategy:{automationLevel:"fully-automated",dataSource:"data_classification_scan",frequency:"weekly",technicalPrerequisites:["column-profiling","classification-engine"]},priority:"critical",useCase:"compliance"},{fieldId:"dq_framework",fieldName:"Data Quality Framework",applicableAssets:["Table","Column","Database"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"semi-automated",dataSource:"dq_rules_engine",frequency:"daily",technicalPrerequisites:["dq-engine","rules-catalog"]},priority:"high",useCase:"data-quality"},{fieldId:"refresh_frequency",fieldName:"Refresh Frequency",applicableAssets:["Table","Database","Column"],isInheritable:!0,inheritancePattern:"override",enrichmentStrategy:{automationLevel:"fully-automated",dataSource:"pipeline_scheduler",frequency:"on-change",technicalPrerequisites:["pipeline-metadata","scheduler-api"]},priority:"high",useCase:"operations"},{fieldId:"retention_days",fieldName:"Retention Days",applicableAssets:["Table","Column","Database"],isInheritable:!0,inheritancePattern:"blocking",enrichmentStrategy:{automationLevel:"manual",dataSource:"compliance_policy",technicalPrerequisites:["policy-engine"]},priority:"critical",useCase:"compliance"},{fieldId:"criticality_tier",fieldName:"Criticality Tier",applicableAssets:["Database","Schema","Table","Column"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"semi-automated",dataSource:"impact_analysis",frequency:"weekly",technicalPrerequisites:["lineage-engine","impact-calculator"]},priority:"high",useCase:"governance"},{fieldId:"api_exposure",fieldName:"API Exposure",applicableAssets:["Table","Schema","Database"],isInheritable:!1,enrichmentStrategy:{automationLevel:"semi-automated",dataSource:"api_registry",frequency:"daily",technicalPrerequisites:["api-catalog","governance-engine"]},priority:"high",useCase:"api-governance"},{fieldId:"ml_ready",fieldName:"ML Readiness Score",applicableAssets:["Table","Column"],isInheritable:!1,enrichmentStrategy:{automationLevel:"fully-automated",dataSource:"ml_quality_scanner",frequency:"weekly",technicalPrerequisites:["profiling-engine","quality-rules"]},priority:"medium",useCase:"ml-governance"},{fieldId:"department",fieldName:"Department",applicableAssets:["Database","Table","Schema"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"manual",dataSource:"org_hierarchy",technicalPrerequisites:["org-sync"]},priority:"high",useCase:"governance"},{fieldId:"business_unit",fieldName:"Business Unit",applicableAssets:["Database","Table","Schema"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"manual",dataSource:"org_hierarchy",technicalPrerequisites:["org-sync"]},priority:"high",useCase:"governance"},{fieldId:"cost_center",fieldName:"Cost Center",applicableAssets:["Database","Table"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"semi-automated",dataSource:"financial_system",frequency:"daily",technicalPrerequisites:["financial-sync","mapping-engine"]},priority:"medium",useCase:"financial"},{fieldId:"sla_response_time",fieldName:"SLA Response Time",applicableAssets:["Table","Database"],isInheritable:!0,inheritancePattern:"cascading",enrichmentStrategy:{automationLevel:"semi-automated",dataSource:"sla_contracts",technicalPrerequisites:["sla-engine"]},priority:"high",useCase:"sla-management"},{fieldId:"explainability_marker",fieldName:"Explainability Marker",applicableAssets:["Column","Table"],isInheritable:!1,enrichmentStrategy:{automationLevel:"manual",dataSource:"ml_governance",technicalPrerequisites:["ml-policy-engine"]},priority:"medium",useCase:"ml-governance"},{fieldId:"readme_completeness",fieldName:"README Completeness Score",applicableAssets:["README","Table","Column"],isInheritable:!1,enrichmentStrategy:{automationLevel:"fully-automated",dataSource:"text_analysis",frequency:"on-change",technicalPrerequisites:["nlp-engine","content-analyzer"]},priority:"medium",useCase:"documentation"},{fieldId:"schema_validation_status",fieldName:"Schema Validation Status",applicableAssets:["Column","Table"],isInheritable:!1,enrichmentStrategy:{automationLevel:"fully-automated",dataSource:"schema_validator",frequency:"daily",technicalPrerequisites:["schema-registry"]},priority:"medium",useCase:"data-quality"}];function ae(n){const t=te.filter(x=>x.applicableAssets.includes(n)),l=t.filter(x=>x.priority==="critical"),r=t.filter(x=>x.enrichmentStrategy.automationLevel!=="manual"),u=t.filter(x=>x.isInheritable);return{asset:n,fields:t,totalFields:t.length,criticalFields:l,automationCoverage:t.length>0?Math.round(r.length/t.length*100):0,inheritableFields:u}}function We(n){return te.filter(t=>t.applicableAssets.includes(n)&&t.priority==="critical")}function B(n){const t=ae(n),l=new Set;t.fields.forEach(x=>{x.enrichmentStrategy.technicalPrerequisites?.forEach(b=>l.add(b))});const r={fullyAutomated:t.fields.filter(x=>x.enrichmentStrategy.automationLevel==="fully-automated").length,semiAutomated:t.fields.filter(x=>x.enrichmentStrategy.automationLevel==="semi-automated").length,manual:t.fields.filter(x=>x.enrichmentStrategy.automationLevel==="manual").length},u=[{phase:"Phase 1: Automated Enrichment",fieldsToEnrich:t.fields.filter(x=>x.enrichmentStrategy.automationLevel==="fully-automated"),estimatedEffort:"2-4 weeks",prerequisites:Array.from(l)},{phase:"Phase 2: Semi-Automated Workflows",fieldsToEnrich:t.fields.filter(x=>x.enrichmentStrategy.automationLevel==="semi-automated"),estimatedEffort:"4-8 weeks",prerequisites:["process-definition","workflow-engine"]},{phase:"Phase 3: Manual & Exception Handling",fieldsToEnrich:t.fields.filter(x=>x.enrichmentStrategy.automationLevel==="manual"),estimatedEffort:"Ongoing",prerequisites:["governance-team","policy-engine"]}];return{asset:n,totalFields:t.totalFields,automationReadiness:r,criticalFieldsCount:t.criticalFields.length,inheritableFieldsCount:t.inheritableFields.length,technicalPrerequisites:l,enrichmentRoadmap:u}}const Qe={"data-governance":{dimension:"Data Governance Maturity",currentMaturity:"intermediate",readinessScore:65,strengths:["Established governance framework","Clear data ownership","Policy documentation"],gaps:["Custom field policy absence","Limited cross-team collaboration"],recommendations:["Create custom field governance policy","Establish governance council"]},"data-quality":{dimension:"Data Quality Culture",currentMaturity:"beginner",readinessScore:40,strengths:["Quality awareness","Manual quality checks"],gaps:["Lack of automation","Limited accountability","No quality SLAs"],recommendations:["Establish data quality CoE","Define quality metrics and SLAs"]},"metadata-management":{dimension:"Metadata Management Maturity",currentMaturity:"intermediate",readinessScore:60,strengths:["Metadata catalog in use","Basic documentation","Ownership assignment"],gaps:["Limited custom metadata","Inconsistent documentation","No enrichment automation"],recommendations:["Expand metadata model for custom fields","Implement metadata automation"]},"organizational-alignment":{dimension:"Cross-Functional Alignment",currentMaturity:"intermediate",readinessScore:55,strengths:["Interdepartmental communication"],gaps:["Siloed priorities","Competing initiatives","Resource constraints"],recommendations:["Establish steering committee","Create shared roadmap"]},"skills-and-training":{dimension:"Skills & Training Readiness",currentMaturity:"beginner",readinessScore:35,strengths:["Technical expertise available"],gaps:["Limited custom field knowledge","No enrichment certification"],recommendations:["Create custom field training curriculum","Develop certification program"]},"change-management":{dimension:"Change Management Capability",currentMaturity:"beginner",readinessScore:40,strengths:["Change management team exists"],gaps:["Limited process standardization","Inconsistent communication"],recommendations:["Develop change management plan","Create stakeholder communication strategy"]}},Ue=[{process:"Field Definition & Standardization",status:"ad-hoc",readinessScore:45,currentTooling:["Spreadsheet","Wiki pages"],requiredTooling:["Field registry","Version control","Approval workflow"],efforts:{defineProcess:2,implementTooling:4,trainTeam:1,total:7}},{process:"Data Enrichment & Automation",status:"missing",readinessScore:20,currentTooling:[],requiredTooling:["Rules engine","Workflow orchestration"],efforts:{defineProcess:3,implementTooling:6,trainTeam:2,total:11}},{process:"Enrichment Quality Assurance",status:"ad-hoc",readinessScore:35,currentTooling:["Manual reviews"],requiredTooling:["QA automation","Validation rules"],efforts:{defineProcess:2,implementTooling:3,trainTeam:1,total:6}},{process:"Compliance & Audit Tracking",status:"documented",readinessScore:60,currentTooling:["Audit logs","Manual reports"],requiredTooling:["Automated audit","Compliance dashboard"],efforts:{defineProcess:1,implementTooling:2,trainTeam:.5,total:3.5}},{process:"Enrichment Metrics & Reporting",status:"ad-hoc",readinessScore:30,currentTooling:["Manual reports"],requiredTooling:["Analytics platform","Custom dashboards"],efforts:{defineProcess:2,implementTooling:4,trainTeam:1,total:7}}];function ie(n){const t=Object.values(Qe),l=Ue,r={Database:65,Schema:60,Table:70,Column:55,README:40,Asset:50,Process:45};n.currentMaturity==="beginner"?Object.keys(r).forEach(g=>{r[g]=Math.max(20,r[g]-15)}):n.currentMaturity==="advanced"&&Object.keys(r).forEach(g=>{r[g]=Math.min(95,r[g]+15)});const u=[...t.map(g=>g.readinessScore),...l.map(g=>g.readinessScore)],x=Math.round(u.reduce((g,a)=>g+a)/u.length),b=x<40?"not-ready":x<60?"emerging":x<80?"capable":"optimized",j=[];t.filter(g=>g.readinessScore<50).forEach(g=>j.push(`${g.dimension}: ${g.gaps.join(", ")}`));const d=[{name:"Metadata infrastructure",description:"Support for custom fields in metadata store",status:"in-progress",effort:"high",estimatedWeeks:4},{name:"Data classification capability",description:"Automated classification scanning",status:"not-started",effort:"high",estimatedWeeks:6},{name:"Governance policy",description:"Define custom field governance standards",status:"not-started",effort:"medium",estimatedWeeks:2},{name:"Team training",description:"Train teams on custom field best practices",status:"not-started",effort:"medium",estimatedWeeks:2}],o=Math.round(d.filter(g=>g.status==="complete").length/d.length*100),c=d.filter(g=>g.status!=="complete").reduce((g,a)=>g+a.estimatedWeeks,0),s=d.filter(g=>g.status==="not-started").map(g=>g.name),N=[{phase:"Phase 1: Readiness Assessment & Planning (Weeks 1-2)",duration:"2 weeks",readinessRequirements:["Governance framework aligned","Stakeholder buy-in obtained"],successCriteria:["Assessment completed","Roadmap approved"],priorPhasePrerequisites:[]},{phase:"Phase 2: Foundation Setup (Weeks 3-8)",duration:"6 weeks",readinessRequirements:["Metadata store updated","Basic automation in place"],successCriteria:["Infrastructure deployed","First fields defined"],priorPhasePrerequisites:["Phase 1 complete"]},{phase:"Phase 3: Enrichment Scaling (Weeks 9-16)",duration:"8 weeks",readinessRequirements:["Advanced automation operational","Quality gates in place"],successCriteria:["All priority fields enriched","Adoption targets met"],priorPhasePrerequisites:["Phase 2 complete"]}],h=[{risk:"Technical infrastructure gaps",likelihood:x<50?"high":"medium",impact:"high",readinessMitigation:"Prioritize critical infrastructure; phased rollout by asset type"},{risk:"Insufficient organizational alignment",likelihood:n.governanceMaturity==="beginner"?"high":"medium",impact:"high",readinessMitigation:"Establish governance council; secure executive sponsorship"},{risk:"Team skill gaps",likelihood:n.currentMaturity==="beginner"?"high":"medium",impact:"medium",readinessMitigation:"Invest in training; establish CoE"},{risk:"Change management resistance",likelihood:n.teamSize>100?"high":"medium",impact:"medium",readinessMitigation:"Strong communication plan; early wins"}];return{organization:n.name,assessmentDate:new Date().toISOString().split("T")[0],overallReadinessScore:x,overallReadinessLevel:b,organizationalReadiness:t,processReadiness:l,assetTypeReadiness:r,criticalGaps:j,prerequisites:{prerequisites:d,completionPercentage:o,estimatedCompletionWeeks:c,blockers:s,nextSteps:s.length>0?s.slice(0,3):["All prerequisites met; ready for Phase 1"]},adoptionRoadmap:N,risks:h}}const Ge=[{ruleId:"lifecycle_cascade_db_to_schema",sourceAsset:"Database",targetAsset:"Schema",fieldId:"lifecycle_status",fieldName:"Lifecycle Status",propagationType:"copy",description:"Cascade lifecycle status from Database to Schema",enabled:!0,priority:100,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"lifecycle_cascade_schema_to_table",sourceAsset:"Schema",targetAsset:"Table",fieldId:"lifecycle_status",fieldName:"Lifecycle Status",propagationType:"copy",description:"Cascade lifecycle status from Schema to Table",enabled:!0,priority:99,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"lifecycle_cascade_table_to_column",sourceAsset:"Table",targetAsset:"Column",fieldId:"lifecycle_status",fieldName:"Lifecycle Status",propagationType:"copy",description:"Cascade lifecycle status from Table to Column",enabled:!0,priority:98,allowOverride:!0,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"pii_aggregate_columns_to_table",sourceAsset:"Column",targetAsset:"Table",fieldId:"pii_classification",fieldName:"PII Classification",propagationType:"aggregate",description:"Aggregate PII classification from Columns to Table (most restrictive wins)",transformation:n=>{if(Array.isArray(n)){const t=["None","Pseudo","Sensitive","Health","Financial"];return n.reduce((l,r)=>{const u=t.indexOf(l);return t.indexOf(r)>u?r:l},"None")}return n},conflictResolution:"most-restrictive",enabled:!0,priority:95,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"retention_days_most_strict",sourceAsset:"Table",targetAsset:"Column",fieldId:"retention_days",fieldName:"Retention Days",propagationType:"filter",description:"Apply stricter retention (shorter duration) at Column level",transformation:(n,t)=>t?Math.min(n,t):n,conflictResolution:"most-restrictive",allowOverride:!0,enabled:!0,priority:90,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"retention_days_compliance_block",sourceAsset:"Database",targetAsset:"Table",fieldId:"retention_days",fieldName:"Retention Days",propagationType:"copy",description:"Enforce minimum retention from Database policy to Tables",enabled:!0,priority:91,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"criticality_cascade_db_to_table",sourceAsset:"Database",targetAsset:"Table",fieldId:"criticality_tier",fieldName:"Criticality Tier",propagationType:"copy",description:"Cascade criticality from Database to Table",enabled:!0,priority:85,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"criticality_cascade_table_to_column",sourceAsset:"Table",targetAsset:"Column",fieldId:"criticality_tier",fieldName:"Criticality Tier",propagationType:"copy",description:"Cascade criticality from Table to Column",allowOverride:!0,enabled:!0,priority:84,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"refresh_frequency_table_baseline",sourceAsset:"Table",targetAsset:"Column",fieldId:"refresh_frequency",fieldName:"Refresh Frequency",propagationType:"copy",description:"Set baseline refresh frequency at Table level",enabled:!0,priority:80,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"refresh_frequency_column_override",sourceAsset:"Column",targetAsset:"Column",fieldId:"refresh_frequency",fieldName:"Refresh Frequency",propagationType:"override",description:"Allow Column-specific refresh frequency override",allowOverride:!0,enabled:!0,priority:81,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"department_cascade_db_to_table",sourceAsset:"Database",targetAsset:"Table",fieldId:"department",fieldName:"Department",propagationType:"copy",description:"Cascade department ownership from Database to Table",enabled:!0,priority:75,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"cost_center_cascade_db_to_table",sourceAsset:"Database",targetAsset:"Table",fieldId:"cost_center",fieldName:"Cost Center",propagationType:"copy",description:"Cascade cost center allocation from Database to Table",enabled:!0,priority:70,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"dq_framework_cascade_db_to_table",sourceAsset:"Database",targetAsset:"Table",fieldId:"dq_framework",fieldName:"Data Quality Framework",propagationType:"copy",description:"Cascade DQ framework from Database to Table",enabled:!0,priority:65,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"dq_framework_cascade_table_to_column",sourceAsset:"Table",targetAsset:"Column",fieldId:"dq_framework",fieldName:"Data Quality Framework",propagationType:"copy",description:"Cascade DQ framework from Table to Column",enabled:!0,priority:64,createdDate:"2025-01-02",lastModified:"2025-01-02"},{ruleId:"ml_ready_column_computed",sourceAsset:"Column",targetAsset:"Column",fieldId:"ml_ready",fieldName:"ML Readiness Score",propagationType:"transform",description:"Compute ML readiness independently per column",transformation:n=>Math.round(Math.random()*100),enabled:!0,priority:50,createdDate:"2025-01-02",lastModified:"2025-01-02"}];class He{rules=new Map;constructor(){Ge.forEach(t=>this.rules.set(t.ruleId,t))}getRule(t){return this.rules.get(t)}getRulesForField(t){return Array.from(this.rules.values()).filter(l=>l.fieldId===t&&l.enabled)}getPropagationPath(t,l,r){return Array.from(this.rules.values()).filter(u=>u.fieldId===t&&u.sourceAsset===l&&u.targetAsset===r&&u.enabled).sort((u,x)=>x.priority-u.priority)}addRule(t){this.rules.set(t.ruleId,t)}setRuleEnabled(t,l){const r=this.rules.get(t);r&&(r.enabled=l,r.lastModified=new Date().toISOString())}getAllRulesOrderedByPriority(){return Array.from(this.rules.values()).filter(t=>t.enabled).sort((t,l)=>l.priority-t.priority)}}function Xe(){return new He}function Ke(){const{wizardState:n,togglePattern:t,updatePattern:l}=k(),{draftMetadataModel:r,selectedPatterns:u}=n,[x,b]=S.useState("Table"),[j,d]=S.useState(!1),[o,c]=S.useState(!1),[s,N]=S.useState(null),h=i=>{if(!s)return;const w={...s};w.fields=w.fields.map(m=>({...m,requirement:i.fieldRequirements.get(m.field)||m.requirement})),l(w),N(null)},g=r.reduce((i,w)=>i+w.initialAmount,0),a=r.filter(i=>i.automationPossible).length,f=ae(x),C=We(x),R=B(x),A=ie({name:"Your Organization",currentMaturity:"intermediate",teamSize:50,governanceMaturity:"intermediate"}),M=Xe(),L={Database:$,Schema:$,Table:ke,Column:Re,README:be,Asset:$,Process:I};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Review Metadata Model"}),e.jsx("p",{className:"text-slate-600",children:"Based on your selected user stories and connectors, here's your recommended metadata model."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:r.length}),e.jsx("div",{className:"text-sm text-slate-600",children:"Model Rows"})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:g}),e.jsx("div",{className:"text-sm text-slate-600",children:"Total Assets"})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:a}),e.jsx("div",{className:"text-sm text-slate-600",children:"Automated Rows"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Recommended Patterns"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Select the patterns that align with your goals to refine the metadata model."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ve.map(i=>{const w=u.some(y=>y.id===i.id),m=w?u.find(y=>y.id===i.id):i;return e.jsxs("div",{className:`border rounded-lg p-4 transition-colors relative group ${w?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300"}`,children:[e.jsxs("div",{className:"cursor-pointer",onClick:()=>t(i),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-900",children:m.name}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:m.description})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center flex-shrink-0 ml-2 ${w?"bg-blue-600 border-blue-600":"border-slate-300"}`,children:w&&e.jsx(U,{className:"w-3 h-3 text-white"})})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:m.outcomes.slice(0,2).map((y,p)=>e.jsx("span",{className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded text-slate-600",children:y},p))})]}),w&&e.jsx("button",{onClick:y=>{y.stopPropagation(),N(m)},className:"absolute top-2 right-10 p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-100 rounded-full opacity-0 group-hover:opacity-100 transition-all",title:"Customize Pattern",children:e.jsx(se,{className:"w-4 h-4"})})]},i.id)})})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Customize ",s.name]}),e.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:e.jsx(Q,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx(Be,{initialPattern:s,initialStep:"fields",onComplete:h})})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-5 h-5 text-blue-600"}),e.jsxs("h3",{className:"font-semibold text-slate-900",children:["Enrichment Readiness: ",A.overallReadinessLevel]})]}),e.jsxs("p",{className:"text-sm text-slate-700 mb-3",children:["Overall score: ",e.jsxs("span",{className:"font-bold text-blue-700",children:[A.overallReadinessScore,"/100"]})," ","— ",A.overallReadinessScore>=60?"Ready to proceed":"Foundational work needed"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:A.criticalGaps.slice(0,3).map((i,w)=>e.jsx("span",{className:"px-2 py-1 text-xs bg-amber-100 text-amber-800 rounded",children:i},w))})]}),e.jsx("button",{onClick:()=>d(!j),className:"px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-100 rounded transition-colors",children:j?"Hide Details":"View Details"})]}),j&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Readiness Dimensions"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.organizationalReadiness.map(i=>e.jsxs("div",{className:"bg-white rounded p-2 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-slate-700",children:i.dimension}),e.jsx("span",{className:`text-xs font-bold ${i.readinessScore>=60?"text-emerald-600":i.readinessScore>=40?"text-amber-600":"text-red-600"}`,children:i.readinessScore})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full ${i.readinessScore>=60?"bg-emerald-500":i.readinessScore>=40?"bg-amber-500":"bg-red-500"}`,style:{width:`${i.readinessScore}%`}})})]},i.dimension))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:["Prerequisites (",A.prerequisites.prerequisites.length,")"]}),e.jsx("ul",{className:"text-xs text-slate-700 space-y-1",children:A.prerequisites.prerequisites.slice(0,5).map(i=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:i.status==="complete"?"text-emerald-500":"text-amber-500",children:i.status==="complete"?"✓":"○"}),e.jsxs("span",{children:[i.name," (",i.estimatedWeeks,"w)"]})]},i.name))})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Custom Field Recommendations by Asset Type"}),e.jsx("div",{className:"flex gap-2 mb-4",children:["Database","Table","Column","README"].map(i=>{const w=L[i];return e.jsxs("button",{onClick:()=>b(i),className:`flex items-center gap-2 px-3 py-2 rounded text-sm font-medium transition-colors ${x===i?"bg-blue-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[e.jsx(w,{className:"w-4 h-4"}),i]},i)})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-sm font-semibold text-slate-900",children:[C.length," Critical Fields for ",x]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Automated (",f.fields.filter(i=>i.enrichmentStrategy.automationLevel==="fully-automated").length,")"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Semi-auto (",f.fields.filter(i=>i.enrichmentStrategy.automationLevel==="semi-automated").length,")"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400"}),"Manual (",f.fields.filter(i=>i.enrichmentStrategy.automationLevel==="manual").length,")"]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:C.map(i=>e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-slate-900",children:i.fieldId.replace("_"," ")}),e.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${i.enrichmentStrategy.automationLevel==="fully-automated"?"bg-emerald-100 text-emerald-700":i.enrichmentStrategy.automationLevel==="semi-automated"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700"}`,children:i.enrichmentStrategy.automationLevel==="fully-automated"?"Auto":i.enrichmentStrategy.automationLevel==="semi-automated"?"Semi":"Manual"})]}),i.isInheritable&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-blue-600",children:[e.jsx(I,{className:"w-3 h-3"}),i.inheritancePattern]})]},i.fieldId))})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900",children:"Implementation Roadmap"}),e.jsxs("span",{className:"text-xs text-slate-600",children:["3 phases • ",R.totalFields," fields"]})]}),e.jsx("div",{className:"space-y-2",children:R.enrichmentRoadmap.map((i,w)=>e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-slate-100 rounded p-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-semibold text-slate-900",children:i.phase}),e.jsx("span",{className:"text-xs text-slate-600",children:i.estimatedEffort})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.fieldsToEnrich.slice(0,5).map(m=>e.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-white border border-slate-200 rounded",children:m.fieldId},m.fieldId)),i.fieldsToEnrich.length>5&&e.jsxs("span",{className:"px-1.5 py-0.5 text-xs text-slate-500",children:["+",i.fieldsToEnrich.length-5," more"]})]})]},w))})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Metadata Propagation Rules"})]}),e.jsx("button",{onClick:()=>c(!o),className:"px-3 py-1.5 text-sm font-medium text-purple-700 hover:bg-purple-100 rounded transition-colors",children:o?"Hide Rules":"View Rules"})]}),e.jsxs("p",{className:"text-sm text-slate-600 mb-3",children:[M.getAllRulesOrderedByPriority().length," active rules governing metadata inheritance across 4 levels (Database → Schema → Table → Column)"]}),o&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Asset Hierarchy"}),e.jsx("div",{className:"flex items-center gap-2 text-xs",children:["Database","Schema","Table","Column"].map((i,w)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-slate-100 rounded font-medium",children:i}),w<3&&e.jsx("span",{className:"text-slate-400",children:"→"})]},i))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-semibold text-slate-700 mb-2",children:"Active Rules (Top 5 by Priority)"}),e.jsx("div",{className:"space-y-2",children:M.getAllRulesOrderedByPriority().slice(0,5).map(i=>e.jsxs("div",{className:"bg-slate-50 rounded p-2 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"font-medium text-slate-900",children:[i.sourceAsset," → ",i.targetAsset]}),e.jsxs("span",{className:"text-slate-500",children:["Priority: ",i.priority]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 rounded",children:i.fieldId}),e.jsx("span",{className:`px-1.5 py-0.5 rounded ${i.propagationType==="copy"?"bg-emerald-100 text-emerald-700":i.propagationType==="aggregate"?"bg-purple-100 text-purple-700":i.propagationType==="filter"?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700"}`,children:i.propagationType}),e.jsx("span",{className:"text-slate-600",children:i.conflictResolution})]})]},i.ruleId))})]})]})]}),e.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left font-medium text-slate-700",children:"Source"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-slate-700",children:"Asset Type"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-slate-700",children:"Metadata Elements"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-slate-700",children:"Scope"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-slate-700",children:"Assets"}),e.jsx("th",{className:"px-4 py-3 text-left font-medium text-slate-700",children:"Automation"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:r.map(i=>e.jsxs("tr",{className:"hover:bg-slate-50",children:[e.jsx("td",{className:"px-4 py-3 text-slate-900",children:i.sourceSystem}),e.jsx("td",{className:"px-4 py-3 text-slate-900",children:i.assetType}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.metadataElements.slice(0,3).map(w=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-50 text-blue-700 rounded",children:w},w)),i.metadataElements.length>3&&e.jsxs("span",{className:"px-2 py-0.5 text-xs text-slate-500",children:["+",i.metadataElements.length-3]})]})}),e.jsx("td",{className:"px-4 py-3 text-slate-700",children:i.manageableAmount}),e.jsx("td",{className:"px-4 py-3 text-slate-900 font-medium",children:i.initialAmount}),e.jsx("td",{className:"px-4 py-3",children:i.automationPossible?e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-emerald-100 text-emerald-700 rounded",children:"Auto"}):e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-amber-100 text-amber-700 rounded",children:"Manual"})})]},i.id))})]})})})]})}function Ye(){const{wizardState:n,toggleCustomMetadata:t,updateCustomMetadata:l}=k(),{draftMetadataModel:r,selectedCustomMetadata:u}=n,[x,b]=S.useState(null),j=o=>{const c=u.find(s=>s.id===o.id);if(c)t(c);else{const s=Oe(o,o.id);t(s)}},d=o=>{o.length>0&&l(o[0]),b(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Enrichment Techniques"}),e.jsx("p",{className:"text-slate-600",children:"For each metadata element in your model, here are the recommended enrichment techniques based on proven customer implementations."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Custom Metadata Templates"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Select standard metadata sets to enrich your assets."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Ve.map(o=>{const c=u.some(h=>h.id===o.id),s=c?u.find(h=>h.id===o.id):o.schema,N=s.attributes?.length||0;return e.jsxs("div",{className:`border rounded-lg p-4 transition-colors relative group ${c?"border-purple-500 bg-purple-50":"border-slate-200 hover:border-purple-300"}`,children:[e.jsxs("div",{className:"cursor-pointer",onClick:()=>j(o),children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-slate-900",children:o.name}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:o.description})]}),e.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center flex-shrink-0 ml-2 ${c?"bg-purple-600 border-purple-600":"border-slate-300"}`,children:c&&e.jsx(U,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Attributes:"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.attributes?.slice(0,3).map(h=>e.jsx("span",{className:"text-xs bg-white border border-slate-200 px-2 py-1 rounded text-slate-600",children:h.displayName},h.id)),N>3&&e.jsxs("span",{className:"text-xs text-slate-500 px-1 py-1",children:["+",N-3," more"]})]})]})]}),c&&e.jsx("button",{onClick:h=>{h.stopPropagation(),b(u.find(g=>g.id===o.id))},className:"absolute top-2 right-10 p-1.5 text-slate-400 hover:text-purple-600 hover:bg-purple-100 rounded-full opacity-0 group-hover:opacity-100 transition-all",title:"Customize Metadata",children:e.jsx(se,{className:"w-4 h-4"})})]},o.id)})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-900",children:["Customize ",x.displayName]}),e.jsx("button",{onClick:()=>b(null),className:"p-2 hover:bg-slate-100 rounded-full text-slate-500",children:e.jsx(Q,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(we,{initialSchemas:[x],onSave:d})})]})}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Enrichment Summary"}),e.jsx("div",{className:"space-y-4",children:Array.from(new Set(r.flatMap(o=>o.metadataElements))).map(o=>{const c=r.filter(h=>h.metadataElements.includes(o)),s=c.reduce((h,g)=>h+g.initialAmount,0),N=c.filter(h=>h.automationPossible).length;return e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-slate-900",children:o}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-slate-600",children:[s," assets"]}),N>0&&e.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-emerald-100 text-emerald-700 rounded",children:[N," automated"]})]})]}),e.jsx("div",{className:"text-sm text-slate-600 space-y-1",children:c.map(h=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[h.sourceSystem," ",h.assetType]}),e.jsx("span",{className:"text-xs text-slate-500",children:h.curationProcess})]},h.id))})]},o)})})]}),e.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-emerald-900",children:[e.jsx("strong",{children:"Next:"})," We'll generate an implementation roadmap based on these techniques."]})})]})}function Ze(){const{wizardState:n}=k(),{proposedRoadmap:t,selectedPatterns:l,selectedCustomMetadata:r}=n,[u,x]=S.useState(!1),[b,j]=S.useState(!1),d=ie({name:"Your Organization",currentMaturity:"intermediate",teamSize:50,governanceMaturity:"intermediate"}),o=B("Table"),c=B("Column");return t?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Implementation Roadmap"}),e.jsxs("p",{className:"text-slate-600",children:[t.totalDuration,"-week implementation plan for ",t.totalAssets," assets."]})]}),(l.length>0||r.length>0)&&e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Configuration Summary"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Selected Patterns"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(s=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded border border-blue-100",children:s.name},s.id))})]}),r.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-slate-700 mb-2",children:"Custom Metadata"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(s=>e.jsx("span",{className:"px-2 py-1 bg-purple-50 text-purple-700 text-xs rounded border border-purple-100",children:s.displayName},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Duration"})]}),e.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[t.totalDuration," weeks"]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{className:"w-5 h-5 text-emerald-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Assets"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.totalAssets})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(q,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Phases"})]}),e.jsx("div",{className:"text-2xl font-bold text-slate-900",children:t.phases.length})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-5 h-5 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Enrichment Readiness Assessment"})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-2xl font-bold text-blue-700",children:d.overallReadinessScore}),e.jsx("span",{className:"text-sm text-slate-600",children:"/100"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${d.overallReadinessScore>=60?"bg-emerald-500":d.overallReadinessScore>=40?"bg-amber-500":"bg-red-500"}`,style:{width:`${d.overallReadinessScore}%`}})}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`text-xs font-semibold ${d.overallReadinessLevel==="optimized"?"text-emerald-700":d.overallReadinessLevel==="capable"?"text-blue-700":d.overallReadinessLevel==="emerging"?"text-amber-700":"text-red-700"}`,children:d.overallReadinessLevel.toUpperCase()}),d.overallReadinessScore<60&&e.jsxs("span",{className:"text-xs text-amber-700 flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),"Foundation work recommended before scaling"]})]})]})]}),d.criticalGaps.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-slate-700",children:"Critical Gaps:"}),d.criticalGaps.slice(0,3).map((s,N)=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-amber-100 text-amber-800 rounded",children:s},N))]})]}),e.jsx("button",{onClick:()=>x(!u),className:"px-3 py-1.5 text-sm font-medium text-blue-700 hover:bg-blue-100 rounded transition-colors",children:u?"Hide":"Details"})]}),u&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-blue-200 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Prerequisites"}),e.jsx("div",{className:"space-y-2",children:d.prerequisites.prerequisites.slice(0,5).map(s=>e.jsx("div",{className:"bg-white rounded p-2 border border-slate-200",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(q,{className:`w-4 h-4 ${s.status==="complete"?"text-emerald-500":s.status==="in-progress"?"text-blue-500":"text-slate-300"}`}),e.jsx("span",{className:"text-sm font-medium text-slate-900",children:s.name})]}),e.jsx("p",{className:"text-xs text-slate-600 ml-6",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs font-medium text-slate-700",children:[s.estimatedWeeks,"w"]}),e.jsx("div",{className:"text-xs text-slate-500",children:s.effort})]})]})},s.name))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Top Risks"}),e.jsx("ul",{className:"space-y-1",children:d.risks.slice(0,3).map((s,N)=>e.jsxs("li",{className:"text-xs text-slate-700 flex items-start gap-2",children:[e.jsx(J,{className:"w-3 h-3 text-amber-500 mt-0.5"}),e.jsx("span",{children:s.risk})]},N))})]})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Custom Fields Enrichment Plan"}),e.jsx("button",{onClick:()=>j(!b),className:"px-3 py-1.5 text-sm font-medium text-purple-700 hover:bg-purple-100 rounded transition-colors",children:b?"Hide":"Show Plan"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"bg-slate-50 rounded p-3 border border-slate-200",children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Tables"}),e.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[o.totalFields," fields"]}),e.jsxs("div",{className:"text-xs text-slate-600",children:[o.automationReadiness.fullyAutomated+o.automationReadiness.semiAutomated," automated"]})]}),e.jsxs("div",{className:"bg-slate-50 rounded p-3 border border-slate-200",children:[e.jsx("div",{className:"text-xs text-slate-600 mb-1",children:"Columns"}),e.jsxs("div",{className:"text-lg font-bold text-slate-900",children:[c.totalFields," fields"]}),e.jsxs("div",{className:"text-xs text-slate-600",children:[c.automationReadiness.fullyAutomated+c.automationReadiness.semiAutomated," automated"]})]})]}),b&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Table Enrichment Phases"}),e.jsx("div",{className:"space-y-2",children:o.enrichmentRoadmap.map((s,N)=>e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:s.phase}),e.jsx("span",{className:"text-xs text-slate-600",children:s.estimatedEffort})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[s.fieldsToEnrich.slice(0,8).map(h=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-white border border-slate-200 rounded",children:h.fieldId},h.fieldId)),s.fieldsToEnrich.length>8&&e.jsxs("span",{className:"px-2 py-0.5 text-xs text-slate-500",children:["+",s.fieldsToEnrich.length-8," more"]})]}),e.jsxs("div",{className:"text-xs text-slate-700",children:[s.fieldsToEnrich.length," fields, ",s.prerequisites.length," prerequisites"]})]},N))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Column Enrichment Phases"}),e.jsx("div",{className:"space-y-2",children:c.enrichmentRoadmap.map((s,N)=>e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-teal-50 rounded p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-900",children:s.phase}),e.jsx("span",{className:"text-xs text-slate-600",children:s.estimatedEffort})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[s.fieldsToEnrich.slice(0,8).map(h=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-white border border-slate-200 rounded",children:h.fieldId},h.fieldId)),s.fieldsToEnrich.length>8&&e.jsxs("span",{className:"px-2 py-0.5 text-xs text-slate-500",children:["+",s.fieldsToEnrich.length-8," more"]})]}),e.jsxs("div",{className:"text-xs text-slate-700",children:[s.fieldsToEnrich.length," fields, ",s.prerequisites.length," prerequisites"]})]},N))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3",children:e.jsxs("p",{className:"text-xs text-blue-900",children:[e.jsx("strong",{children:"Automation Opportunity:"})," ",((o.automationReadiness.fullyAutomated+o.automationReadiness.semiAutomated)/o.totalFields*100).toFixed(0),"% of table fields and ",((c.automationReadiness.fullyAutomated+c.automationReadiness.semiAutomated)/c.totalFields*100).toFixed(0),"% of column fields can be automated or semi-automated."]})})]})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Timeline"}),e.jsx("div",{className:"space-y-4",children:t.phases.map((s,N)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-16 text-right",children:e.jsxs("span",{className:"text-sm font-medium text-slate-600",children:["Week ",s.week||N+1]})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 border-2 border-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-blue-700",children:N+1})}),N<t.phases.length-1&&e.jsx("div",{className:"w-0.5 h-full min-h-[60px] bg-slate-200"})]}),e.jsx("div",{className:"flex-1 pb-6",children:e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-slate-900",children:s.name}),s.assetsTarget>0&&e.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[s.assetsTarget," assets"]})]}),s.sprint&&e.jsx("div",{className:"text-xs text-slate-500 mb-2",children:s.sprint}),e.jsx("ul",{className:"text-sm text-slate-700 space-y-1 mb-2",children:s.keyActivities.map((h,g)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-slate-400 mt-0.5",children:"•"}),e.jsx("span",{children:h})]},g))}),e.jsxs("div",{className:"text-sm font-medium text-emerald-700 mt-2",children:["✓ ",s.deliverable]})]})})]},s.id))})]}),e.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Success Metrics"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.metrics.slice(0,6).map(s=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-slate-900 mb-2",children:s.name}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-slate-600",children:["Baseline: ",e.jsx("span",{className:"font-medium",children:s.baseline})]}),e.jsxs("span",{className:"text-emerald-600",children:["Target: ",e.jsx("span",{className:"font-medium",children:s.target})]})]})]},s.id))})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-900",children:[e.jsx("strong",{children:"Ready to proceed?"}),' Click "Finalize & Create Project" to save this metadata model and roadmap. You can refine it further after creation.']})})]}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-slate-600",children:"Generating roadmap..."})})}function cs({onComplete:n}){const{wizardState:t,initializeWizard:l,nextStep:r,previousStep:u,finalizeWizard:x}=k(),{currentStep:b,totalSteps:j}=t;S.useEffect(()=>{b===0&&t.selectedUserStories.length===0&&l()},[]);const d=()=>{b===1?k.getState().generateRecommendedUserStories():b===2?k.getState().generateRecommendedMetadataModel():b===4&&k.getState().generateProjectRoadmap(),r()},o=()=>{const N=x();if(N){const h=Se(N);K.getState().addPlan(h),K.getState().setActivePlanId(h.id),Y.getState().addPlan(h),Y.getState().setActivePlanId(h.id),n&&n()}},c=[{number:0,name:"Strategy Scout",component:Ie},{number:1,name:"Profile",component:Fe},{number:2,name:"User Stories",component:ze},{number:3,name:"Metadata Model",component:Ke},{number:4,name:"Enrichment",component:Ye},{number:5,name:"Roadmap",component:Ze}],s=c[b]?.component;return e.jsxs("div",{className:"h-full flex flex-col bg-slate-50",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 px-8 py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Metadata Modeling Assistant"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Build your metadata model with guidance from proven customer templates"})]})}),e.jsx("div",{className:"bg-white border-b border-slate-200 px-8 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-between",children:c.map((N,h)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all ${h<b?"bg-emerald-500 border-emerald-500 text-white":h===b?"bg-blue-500 border-blue-500 text-white":"bg-white border-slate-300 text-slate-400"}`,children:h<b?e.jsx(q,{className:"w-6 h-6"}):e.jsx("span",{className:"text-sm font-semibold",children:N.number})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:`text-sm font-medium ${h<=b?"text-slate-900":"text-slate-400"}`,children:N.name})})]}),h<c.length-1&&e.jsx("div",{className:`flex-1 h-0.5 mx-4 ${h<b?"bg-emerald-500":"bg-slate-200"}`})]},N.number))})})}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto px-8 py-8",children:s&&e.jsx(s,{})})}),e.jsx("div",{className:"bg-white border-t border-slate-200 px-8 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx("button",{onClick:u,disabled:b===0,className:"px-4 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsxs("div",{className:"text-sm text-slate-600",children:["Step ",b+1," of ",j]}),b<j-1?e.jsx("button",{onClick:d,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Next"}):e.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-white bg-emerald-600 rounded-md hover:bg-emerald-700",children:"Finalize & Create Project"})]})})]})}export{cs as MetadataAssistantWizard};
