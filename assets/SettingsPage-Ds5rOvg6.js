import{c as b,r as Z,s as ee,i as se,al as ie,j as e,C as n,E as ae,am as T,an as le,a6 as N,O as ne,ao as te,ad as z}from"./index-BYXjn4hA.js";import{A as ce,U as re}from"./AppHeader-bBOFCWJR.js";import{D as oe}from"./download-DQhb5Itz.js";import{S as de}from"./square-check-big-Dt5s5GBL.js";import{R as f}from"./rotate-ccw-wvce0Yom.js";import{F as he}from"./funnel-DPZwMpz0.js";import{S as xe}from"./shield-check-BoMLOgF3.js";import"./list-k-ASkxhI.js";const me=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],je=b("monitor",me);const ue=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],A=b("palette",ue);const pe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M21 9H3",key:"1338ky"}],["path",{d:"M21 15H3",key:"9uk58r"}]],E=b("rows-3",pe),P={description:"Description",owner:"Owner",tags:"Tags",terms:"Business Terms",lineage:"Lineage",certificate:"Certification",classifications:"Classifications",readme:"README",domain:"Domain"},ve=[{value:"required",label:"Required"},{value:"recommended",label:"Recommended"},{value:"optional",label:"Optional"},{value:"hidden",label:"Hidden"}];function Re(){const y=Z.useRef(null),{density:m,theme:j,setDensity:u,setTheme:p,showPopularityBadges:q,setShowPopularityBadges:M,globalTimeRange:O,globalCertificationFilter:l,setGlobalTimeRange:F,setGlobalCertificationFilter:C,dashboardHeatmapDimension:I,dashboardOwnerPivotDimension:L,dashboardOwnerPivotColumn:U,setDashboardHeatmapDimension:B,setDashboardOwnerPivotDimension:W,setDashboardOwnerPivotColumn:_,pivotDefaultRowDimensions:o,pivotDefaultMeasures:d,setPivotDefaultRowDimensions:w,setPivotDefaultMeasures:k,resetToDefaults:G}=ee(),{rules:a,setThresholds:h,setFieldRequirements:H,setDimensionWeights:Q,resetToDefaults:$,exportRules:V,importRules:J}=se(),{scoringMode:v,activeProfiles:t,setScoringMode:D,setActiveProfiles:R}=ie(),K=()=>{const s=V(),i=new Blob([s],{type:"application/json"}),c=URL.createObjectURL(i),r=document.createElement("a");r.href=c,r.download="quality-rules.json",r.click(),URL.revokeObjectURL(c)},X=s=>{const i=s.target.files?.[0];if(!i)return;const c=new FileReader;c.onload=r=>{const Y=r.target?.result;J(Y)||alert("Failed to import rules. Please check the file format.")},c.readAsText(i),s.target.value=""},x=Object.values(a.dimensionWeights).reduce((s,i)=>s+i,0),g=s=>{l.includes(s)?C(l.filter(i=>i!==s)):C([...l,s])},S=s=>{t.includes(s)?R(t.filter(i=>i!==s)):R([...t,s])};return e.jsxs("div",{className:"settings-page",children:[e.jsx(ce,{title:"Settings"}),e.jsxs("div",{className:"settings-content",children:[e.jsxs(n,{className:"settings-card",children:[e.jsxs("div",{className:"settings-card-header",children:[e.jsx(A,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"Appearance"}),e.jsx("p",{children:"Customize the look and feel"})]})]}),e.jsxs("div",{className:"settings-card-body",children:[e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(je,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"UI Density"}),e.jsx("span",{children:"Adjust spacing and sizing"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"segment-control",children:[e.jsx("button",{className:m==="compact"?"active":"",onClick:()=>u("compact"),children:"Compact"}),e.jsx("button",{className:m==="comfortable"?"active":"",onClick:()=>u("comfortable"),children:"Comfortable"}),e.jsx("button",{className:m==="spacious"?"active":"",onClick:()=>u("spacious"),children:"Spacious"})]})})]}),e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(A,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Theme"}),e.jsx("span",{children:"Choose color scheme"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"segment-control",children:[e.jsx("button",{className:j==="light"?"active":"",onClick:()=>p("light"),children:"Light"}),e.jsx("button",{className:j==="dark"?"active":"",onClick:()=>p("dark"),children:"Dark"}),e.jsx("button",{className:j==="auto"?"active":"",onClick:()=>p("auto"),children:"Auto"})]})})]}),e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(ae,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Popularity Badges"}),e.jsx("span",{children:"Show usage indicators on assets"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("label",{className:"toggle-switch",children:[e.jsx("input",{type:"checkbox",checked:q,onChange:s=>M(s.target.checked)}),e.jsx("span",{className:"toggle-slider"})]})})]})]})]}),e.jsxs(n,{className:"settings-card",children:[e.jsxs("div",{className:"settings-card-header",children:[e.jsx(T,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"Quality Scoring Rules"}),e.jsx("p",{children:"Configure how quality scores are calculated"})]}),e.jsxs("div",{className:"settings-card-actions",children:[e.jsx("button",{className:"settings-icon-button",onClick:K,title:"Export Rules",children:e.jsx(oe,{size:16})}),e.jsx("button",{className:"settings-icon-button",onClick:()=>y.current?.click(),title:"Import Rules",children:e.jsx(re,{size:16})}),e.jsx("input",{ref:y,type:"file",accept:".json",onChange:X,style:{display:"none"}})]})]}),e.jsxs("div",{className:"settings-card-body",children:[e.jsxs("div",{className:"setting-section",children:[e.jsxs("div",{className:"setting-section-header",children:[e.jsx(T,{size:16}),e.jsx("span",{children:"Scoring Mode"})]}),e.jsx("p",{className:"setting-section-description",children:"Choose between legacy scoring or config-driven scoring with profiles"}),e.jsxs("div",{className:"scoring-mode-options",children:[e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",name:"scoringMode",value:"legacy",checked:v==="legacy",onChange:()=>D("legacy")}),e.jsxs("div",{className:"radio-content",children:[e.jsx("span",{className:"radio-label",children:"Legacy"}),e.jsx("span",{className:"radio-description",children:"Use built-in scoring algorithms"})]})]}),e.jsxs("label",{className:"radio-item",children:[e.jsx("input",{type:"radio",name:"scoringMode",value:"config-driven",checked:v==="config-driven",onChange:()=>D("config-driven")}),e.jsxs("div",{className:"radio-content",children:[e.jsx("span",{className:"radio-label",children:"Config-Driven"}),e.jsx("span",{className:"radio-description",children:"Use configurable scoring profiles"})]})]})]}),v==="config-driven"&&e.jsxs("div",{className:"scoring-profiles",children:[e.jsx("label",{className:"scoring-profiles-label",children:"Active Profiles"}),e.jsxs("div",{className:"checkbox-group-vertical",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:t.includes("industry5d"),onChange:()=>S("industry5d")}),e.jsxs("div",{className:"checkbox-content",children:[e.jsx("span",{className:"checkbox-label",children:"Industry 5D"}),e.jsx("span",{className:"checkbox-description",children:"Standard 5-dimension quality model"})]})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:t.includes("standardCompleteness"),onChange:()=>S("standardCompleteness")}),e.jsxs("div",{className:"checkbox-content",children:[e.jsx("span",{className:"checkbox-label",children:"Standard Completeness"}),e.jsx("span",{className:"checkbox-description",children:"Focus on metadata completeness metrics"})]})]})]})]})]}),e.jsxs("div",{className:"setting-section",children:[e.jsxs("div",{className:"setting-section-header",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Score Thresholds"})]}),e.jsx("p",{className:"setting-section-description",children:"Define the boundaries for quality score bands (Excellent > Good > Fair > Poor > Critical)"}),e.jsxs("div",{className:"threshold-grid",children:[e.jsxs("div",{className:"threshold-item",children:[e.jsx("label",{children:"Excellent"}),e.jsxs("div",{className:"threshold-input-wrapper",children:[e.jsx("span",{className:"threshold-prefix",children:"≥"}),e.jsx("input",{type:"number",min:0,max:100,value:a.thresholds.excellent,onChange:s=>h({...a.thresholds,excellent:Math.min(100,Math.max(0,parseInt(s.target.value,10)||0))}),className:"threshold-input"})]}),e.jsx("div",{className:"threshold-preview",style:{background:"var(--score-excellent)"}})]}),e.jsxs("div",{className:"threshold-item",children:[e.jsx("label",{children:"Good"}),e.jsxs("div",{className:"threshold-input-wrapper",children:[e.jsx("span",{className:"threshold-prefix",children:"≥"}),e.jsx("input",{type:"number",min:0,max:100,value:a.thresholds.good,onChange:s=>h({...a.thresholds,good:Math.min(100,Math.max(0,parseInt(s.target.value,10)||0))}),className:"threshold-input"})]}),e.jsx("div",{className:"threshold-preview",style:{background:"var(--score-good)"}})]}),e.jsxs("div",{className:"threshold-item",children:[e.jsx("label",{children:"Fair"}),e.jsxs("div",{className:"threshold-input-wrapper",children:[e.jsx("span",{className:"threshold-prefix",children:"≥"}),e.jsx("input",{type:"number",min:0,max:100,value:a.thresholds.fair,onChange:s=>h({...a.thresholds,fair:Math.min(100,Math.max(0,parseInt(s.target.value,10)||0))}),className:"threshold-input"})]}),e.jsx("div",{className:"threshold-preview",style:{background:"var(--score-fair)"}})]}),e.jsxs("div",{className:"threshold-item",children:[e.jsx("label",{children:"Poor"}),e.jsxs("div",{className:"threshold-input-wrapper",children:[e.jsx("span",{className:"threshold-prefix",children:"≥"}),e.jsx("input",{type:"number",min:0,max:100,value:a.thresholds.poor,onChange:s=>h({...a.thresholds,poor:Math.min(100,Math.max(0,parseInt(s.target.value,10)||0))}),className:"threshold-input"})]}),e.jsx("div",{className:"threshold-preview",style:{background:"var(--score-poor)"}})]}),e.jsxs("div",{className:"threshold-item",children:[e.jsx("label",{children:"Critical"}),e.jsxs("div",{className:"threshold-input-wrapper",children:[e.jsx("span",{className:"threshold-prefix",children:"<"}),e.jsx("span",{className:"threshold-value",children:a.thresholds.poor})]}),e.jsx("div",{className:"threshold-preview",style:{background:"var(--score-critical)"}})]})]})]}),e.jsxs("div",{className:"setting-section",children:[e.jsxs("div",{className:"setting-section-header",children:[e.jsx(de,{size:16}),e.jsx("span",{children:"Field Requirements"})]}),e.jsx("p",{className:"setting-section-description",children:"Set which metadata fields are required, recommended, or optional for quality scoring"}),e.jsx("div",{className:"field-requirements-grid",children:Object.keys(P).map(s=>e.jsxs("div",{className:"field-requirement-row",children:[e.jsx("span",{className:"field-requirement-label",children:P[s]}),e.jsx("select",{value:a.fieldRequirements[s],onChange:i=>H({...a.fieldRequirements,[s]:i.target.value}),className:`field-requirement-select requirement-${a.fieldRequirements[s]}`,children:ve.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]},s))})]}),e.jsxs("div",{className:"setting-section",children:[e.jsxs("div",{className:"setting-section-header",children:[e.jsx(N,{size:16}),e.jsx("span",{children:"Dimension Weights"}),e.jsxs("span",{className:`weight-total ${x===100?"valid":"invalid"}`,children:["Total: ",x,"%"]})]}),e.jsx("p",{className:"setting-section-description",children:"Adjust the importance of each quality dimension in the overall score calculation"}),e.jsx("div",{className:"dimension-weights-grid",children:["completeness","accuracy","timeliness","consistency","usability"].map(s=>e.jsxs("div",{className:"dimension-weight-row",children:[e.jsx("label",{className:"dimension-weight-label",children:s.charAt(0).toUpperCase()+s.slice(1)}),e.jsx("input",{type:"range",min:0,max:100,value:a.dimensionWeights[s],onChange:i=>Q({...a.dimensionWeights,[s]:parseInt(i.target.value,10)}),className:"dimension-weight-slider"}),e.jsxs("span",{className:"dimension-weight-value",children:[a.dimensionWeights[s],"%"]})]},s))}),x!==100&&e.jsxs("p",{className:"weight-warning",children:["Weights should total 100% for accurate scoring. Current total: ",x,"%"]})]}),e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(f,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Reset Quality Rules"}),e.jsx("span",{children:"Restore scoring rules to defaults"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsx("button",{className:"secondary-button",onClick:()=>{confirm("Reset quality rules to defaults?")&&$()},children:"Reset Rules"})})]})]})]}),e.jsxs(n,{className:"settings-card",children:[e.jsxs("div",{className:"settings-card-header",children:[e.jsx(he,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"Global Filters"}),e.jsx("p",{children:"Apply across Dashboard, Pivots, and Lineage views"})]})]}),e.jsxs("div",{className:"settings-card-body",children:[e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(ne,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Time Range"}),e.jsx("span",{children:"Default time period for data"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("select",{value:O,onChange:s=>F(s.target.value),className:"setting-select",children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"}),e.jsx("option",{value:"all",children:"All Time"})]})})]}),e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(xe,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Certification Filter"}),e.jsx("span",{children:l.length===0?"Showing all statuses":`Showing: ${l.join(", ")}`})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("div",{className:"checkbox-group-horizontal",children:[e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:l.includes("VERIFIED"),onChange:()=>g("VERIFIED")}),e.jsx("span",{children:"Verified"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:l.includes("DRAFT"),onChange:()=>g("DRAFT")}),e.jsx("span",{children:"Draft"})]}),e.jsxs("label",{className:"checkbox-item",children:[e.jsx("input",{type:"checkbox",checked:l.includes("DEPRECATED"),onChange:()=>g("DEPRECATED")}),e.jsx("span",{children:"Deprecated"})]})]})})]})]})]}),e.jsxs(n,{className:"settings-card",children:[e.jsxs("div",{className:"settings-card-header",children:[e.jsx(te,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"Dashboard Defaults"}),e.jsx("p",{children:"Default settings for the Executive Dashboard"})]})]}),e.jsxs("div",{className:"settings-card-body",children:[e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(E,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Heatmap Pivot"}),e.jsx("span",{children:"Default row dimension for quality heatmap"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("select",{value:I,onChange:s=>B(s.target.value),className:"setting-select",children:[e.jsx("option",{value:"domain",children:"Domain"}),e.jsx("option",{value:"owner",children:"Owner"}),e.jsx("option",{value:"schema",children:"Schema"}),e.jsx("option",{value:"connection",children:"Connection"}),e.jsx("option",{value:"tag",children:"Tag"}),e.jsx("option",{value:"certificationStatus",children:"Certification Status"}),e.jsx("option",{value:"classification",children:"Classification"}),e.jsx("option",{value:"assetType",children:"Asset Type"})]})})]}),e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(z,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Owner Pivot Dimension"}),e.jsx("span",{children:"Default grouping for owner analysis"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("select",{value:L,onChange:s=>W(s.target.value),className:"setting-select",children:[e.jsx("option",{value:"ownerGroup",children:"Owner Group"}),e.jsx("option",{value:"tag",children:"Tag"}),e.jsx("option",{value:"certificationStatus",children:"Certification Status"}),e.jsx("option",{value:"classification",children:"Classification"}),e.jsx("option",{value:"assetType",children:"Asset Type"}),e.jsx("option",{value:"schema",children:"Schema"}),e.jsx("option",{value:"connection",children:"Connection"})]})})]}),e.jsxs("div",{className:"setting-row",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(N,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Owner Pivot Measure"}),e.jsx("span",{children:"Quality dimension to display"})]})]}),e.jsx("div",{className:"setting-control",children:e.jsxs("select",{value:U,onChange:s=>_(s.target.value),className:"setting-select",children:[e.jsx("option",{value:"completeness",children:"Completeness"}),e.jsx("option",{value:"accuracy",children:"Accuracy"}),e.jsx("option",{value:"timeliness",children:"Timeliness"}),e.jsx("option",{value:"consistency",children:"Consistency"}),e.jsx("option",{value:"usability",children:"Usability"})]})})]})]})]}),e.jsxs(n,{className:"settings-card",children:[e.jsxs("div",{className:"settings-card-header",children:[e.jsx(z,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"Pivot Builder Defaults"}),e.jsx("p",{children:"Default dimensions and measures for new pivots"})]})]}),e.jsxs("div",{className:"settings-card-body",children:[e.jsxs("div",{className:"setting-row vertical",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(E,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Default Row Dimensions"}),e.jsx("span",{children:"Dimensions added to new pivot analyses"})]})]}),e.jsx("div",{className:"setting-control full-width",children:e.jsxs("div",{className:"pill-list",children:[o.map(s=>e.jsxs("span",{className:"pill",children:[s,e.jsx("button",{onClick:()=>w(o.filter(i=>i!==s)),className:"pill-remove",children:"×"})]},s)),e.jsxs("select",{className:"pill-add-select",onChange:s=>{s.target.value&&!o.includes(s.target.value)&&w([...o,s.target.value]),s.target.value=""},children:[e.jsx("option",{value:"",children:"+ Add"}),e.jsx("option",{value:"connection",children:"Connection"}),e.jsx("option",{value:"database",children:"Database"}),e.jsx("option",{value:"schema",children:"Schema"}),e.jsx("option",{value:"assetType",children:"Asset Type"}),e.jsx("option",{value:"owner",children:"Owner"}),e.jsx("option",{value:"domain",children:"Domain"}),e.jsx("option",{value:"certification",children:"Certification"}),e.jsx("option",{value:"classification",children:"Classification"}),e.jsx("option",{value:"tag",children:"Tag"})]})]})})]}),e.jsxs("div",{className:"setting-row vertical",children:[e.jsxs("div",{className:"setting-info",children:[e.jsx(N,{size:16}),e.jsxs("div",{children:[e.jsx("label",{children:"Default Measures"}),e.jsx("span",{children:"Measures added to new pivot analyses"})]})]}),e.jsx("div",{className:"setting-control full-width",children:e.jsxs("div",{className:"pill-list",children:[d.map(s=>e.jsxs("span",{className:"pill",children:[s,e.jsx("button",{onClick:()=>k(d.filter(i=>i!==s)),className:"pill-remove",children:"×"})]},s)),e.jsxs("select",{className:"pill-add-select",onChange:s=>{s.target.value&&!d.includes(s.target.value)&&k([...d,s.target.value]),s.target.value=""},children:[e.jsx("option",{value:"",children:"+ Add"}),e.jsx("option",{value:"assetCount",children:"Asset Count"}),e.jsx("option",{value:"overallScore",children:"Overall Score"}),e.jsx("option",{value:"completenessScore",children:"Completeness"}),e.jsx("option",{value:"accuracyScore",children:"Accuracy"}),e.jsx("option",{value:"timelinessScore",children:"Timeliness"}),e.jsx("option",{value:"consistencyScore",children:"Consistency"}),e.jsx("option",{value:"usabilityScore",children:"Usability"})]})]})})]})]})]}),e.jsxs(n,{className:"settings-card settings-card-danger",children:[e.jsxs("div",{className:"settings-card-header",children:[e.jsx(f,{size:20}),e.jsxs("div",{children:[e.jsx("h3",{children:"Reset Settings"}),e.jsx("p",{children:"Restore all settings to their defaults"})]})]}),e.jsx("div",{className:"settings-card-body",children:e.jsxs("button",{className:"reset-button",onClick:()=>{confirm("Reset all settings to defaults? This cannot be undone.")&&G()},children:[e.jsx(f,{size:16}),"Reset All Settings"]})})]})]})]})}export{Re as SettingsPage};
