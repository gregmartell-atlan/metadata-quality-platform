# Dev container with Vite + Proxy server
FROM node:20-alpine

WORKDIR /app

# Copy package files
COPY package.json package-lock.json ./

# Install dependencies
RUN npm ci

# Copy source
COPY . .

# Make start script executable
RUN chmod +x start-dev.sh

# Expose Vite dev port and proxy port
EXPOSE 5173 3002

# Run both servers
CMD ["./start-dev.sh"]
